/* empty css                  *//* empty css                   */import{j as A,r as d,f as b,B as J,H as o,Y as l,J as a,R as i,_ as f,W as u,X as M,ad as O,a2 as F,M as v,T as p,Q,U,u as k,V as E,I as n}from"./vue-CjgK3QL3.js";import{c as X,E as Y,d as Z,R as ee,S as te,T as ae,r as se}from"./index-D49-rFT6.js";import{_ as ne}from"./vue-helper-DlAUqK2U.js";import"./pinia-BjCkHraf.js";import"./vue-router-7CHpTyhd.js";const oe=["src"],re={key:1,class:"w-full h-full bg-gradient-to-br from-slate-950 via-slate-900 to-indigo-950"},le={key:0,class:"absolute inset-0 z-[100] bg-white pointer-events-none"},ie={class:"absolute top-0 left-0 w-full z-20 p-6 flex justify-between items-start pointer-events-none"},ce={class:"flex flex-col gap-1 animate-fade-in-down"},de={class:"flex items-center gap-2 text-xs text-amber-200/60 font-mono tracking-widest pl-3.5"},ue={class:"flex gap-3 pointer-events-auto"},pe={class:"absolute inset-0 z-10 flex flex-col justify-end pb-8 md:pb-12 px-4 md:px-20 lg:px-40 pointer-events-none"},me={class:"absolute inset-0 pointer-events-none overflow-hidden"},_e={key:0,class:"absolute bottom-0 right-0 md:right-[10%] h-[60vh] md:h-[75vh] w-auto drop-shadow-2xl filter brightness-90 contrast-110 overflow-hidden"},fe=["src"],ge={class:"relative w-full max-w-5xl mx-auto z-30 pointer-events-auto"},xe={key:0,class:"absolute -top-10 left-0 md:left-4 z-40"},be={class:"px-6 py-2 bg-slate-900/90 border-l-4 border-amber-500 text-white font-bold tracking-widest text-lg shadow-lg skew-x-[-10deg]"},he={class:"skew-x-[10deg] inline-block"},ve={class:"text-lg md:text-xl text-slate-200 leading-relaxed font-medium tracking-wide font-sans text-shadow-sm min-h-[80px]"},ke=["innerHTML"],we={key:0,class:"inline-block w-2 h-5 ml-1 bg-amber-400 animate-pulse align-middle shadow-[0_0_8px_rgba(251,191,36,0.8)]"},ye={key:0,class:"absolute bottom-4 right-6 flex items-center gap-2 animate-bounce text-amber-400/80"},Ie={key:0,class:"absolute bottom-[105%] left-0 w-full flex flex-col items-center gap-3 z-50"},Se=["disabled","onClick"],Ce={class:"relative px-6 py-4 flex items-center justify-between text-left"},Fe={class:"text-xs opacity-50 font-mono border border-current px-1.5 rounded"},Ee={key:0,class:"flex items-center text-xs text-red-400 gap-1 bg-black/40 px-2 py-1 rounded border border-red-900/50"},Te={key:1,class:"opacity-0 -translate-x-4 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300 text-white"},qe={key:0,class:"absolute bottom-[130%] w-full flex flex-col items-center gap-4 z-50"},ze={class:"text-6xl animate-pulse"},Be=A({__name:"ScenarioView",setup(je){const D=e=>({lin:"https://api.dicebear.com/7.x/micah/svg?seed=Lin&backgroundColor=b6e3f4",protagonist:"https://api.dicebear.com/7.x/micah/svg?seed=Felix&backgroundColor=ffdfbf",oldman:"https://api.dicebear.com/7.x/micah/svg?seed=Grandpa&backgroundColor=c0aede",boss:"https://api.dicebear.com/7.x/bottts/svg?seed=Boss&backgroundColor=ff0000"})[e]||"",T=[{id:"frag_01",name:"ç¥ç§˜ä»£ç "},{id:"frag_02",name:"çº¢è¡£å°‘å¥³çš„æš—ç¤º"},{id:"frag_03",name:"ä¹˜åŠ¡é•¿çš„å¾½ç« "},{id:"frag_04",name:"ç—…æ¯’æºä»£ç "}],q={start_01:{id:"start_01",text:"å°–é”çš„åˆ¹è½¦å£°æŠŠä½ ç¡¬ç”Ÿç”Ÿæ‹½é†’ï¼Œå†·æ±—æŠŠè¡¬è¡«è´´åœ¨èƒŒä¸Šã€‚<br>ççœ¼ä¸€çœ‹ï¼Œæ»¡è½¦å¢éœ“è™¹ä¹±é—ªï¼Œç©ºæ°”ä¸€è‚¡å­çƒ§ç”µè·¯æ¿çš„ç„¦å‘³â€¦â€¦<br>ä½ åˆå›åˆ°è¿™è¶Ÿé¬¼åˆ—è½¦äº†ã€‚",speaker:"æ—ç™½",bgImage:"https://images.unsplash.com/photo-1517639493569-5666a7488662?q=80&w=2070&auto=format&fit=crop",options:[{text:"æˆ‘è¿™æ˜¯ç¬¬å‡ æ¬¡é†’äº†â€¦â€¦",nextSceneId:"start_02"}]},start_02:{id:"start_02",text:"ã€Œæ¬¢è¿ä¹˜åK-13æ¬¡åˆ—è½¦ï¼Œæœ¬æ¬¡åˆ—è½¦ç»ˆç‚¹ç«™â€”â€”åœ°ç‹±ã€‚å€’è®¡æ—¶15åˆ†é’Ÿï¼Œè¯·äº«å—æ—…ç¨‹ã€‚ã€<br>ç”œå¾—å‘è…»çš„å¥³å£°å¹¿æ’­åˆå‡†æ—¶å“èµ·ã€‚",speaker:"ç”µå­å¹¿æ’­",bgImage:"https://images.unsplash.com/photo-1540979388789-6cee28a1cdc9?q=80&w=2070&auto=format&fit=crop",options:[{text:"ä½å¤´æ‘¸å£è¢‹ï¼ˆè€è§„çŸ©ï¼‰",nextSceneId:"scene_investigate"},{text:"è·³èµ·æ¥å¤§å–Šâ€œè¦ç‚¸äº†ï¼â€",nextSceneId:"end_death_guard"},{text:"å››å¤„çœ‹æœ‰æ²¡æœ‰å¥‡æ€ªçš„äºº",nextSceneId:"scene_meet_lin"},{text:"ç›´æ¥å¾€åè½¦å¢å†²",nextSceneId:"scene_explore_cars",reqFragment:"frag_04"}]},scene_investigate:{id:"scene_investigate",text:"ä½ æŠŠæ‰‹ä¼¸è¿›ä¸Šè¡£å†…å…œï¼Œæœç„¶åˆæ‘¸åˆ°é‚£å¼ çš±å·´å·´çš„çº¸æ¡ã€‚<br>å³çœ¼ä¹‰çœ¼ä¸€é—ªï¼š<span class='text-amber-400 font-bold'>ã€ç¥ç§˜ä»£ç ã€‘å·²æ”¶é›†ï¼</span>",speaker:"é˜¿å“²",character:"protagonist",unlockFragment:{id:"frag_01",name:"ç¥ç§˜ä»£ç "},options:[{text:"çœ‹çº¸æ¡å†™çš„æ˜¯å•¥",nextSceneId:"scene_paper_content"},{text:"ç›´æ¥å¼¯è…°çœ‹åº§ä½åº•ä¸‹",nextSceneId:"scene_seat_check"}]},scene_paper_content:{id:"scene_paper_content",text:"çº¸æ¡ä¸Šåªæœ‰ä¸€è¡Œå­—ï¼š<span class='text-red-500 font-mono text-xl'>ERROR: 404_LIN</span><br>ä¹‰çœ¼åŒæ—¶æ‰«åˆ°åº§ä½åº•ä¸‹æœ‰å¾®å¼±ä¿¡å·ï¼Œåƒè—äº†ä¸ªå°è®¾å¤‡ã€‚",speaker:"ç³»ç»Ÿæç¤º",options:[{text:"ä¼¸æ‰‹å»æï¼ˆæ‰¾æ­»æ¨¡å¼ï¼‰",nextSceneId:"scene_bomb_check"},{text:"é—®é—®æ—è¾¹å¤§çˆ·",nextSceneId:"scene_ask_passenger"},{text:"ç®—äº†å…ˆä¸æƒ³äº†",nextSceneId:"start_02"}]},scene_ask_passenger:{id:"scene_ask_passenger",text:"ä½ å°å£°é—®æ—è¾¹è€å¤´ï¼šâ€œå¤§çˆ·ï¼Œä¹˜åŠ¡é•¿çš„å¾½ç« åœ¨å“ªï¼Ÿâ€<br>è€å¤´çœ¼ç å­å…¨æ˜¯é›ªèŠ±å±ï¼Œå¡ç»™ä½ ä¸€æšå†°å†·çš„é‡‘å±å¾½ç« ï¼š<br>â€œåˆ«è®©é‚£ä¸«å¤´éª—äº†ä½ â€¦â€¦â€",speaker:"ç¥ç§˜è€å¤´",character:"oldman",unlockFragment:{id:"frag_03",name:"ä¹˜åŠ¡é•¿çš„å¾½ç« "},options:[{text:"æ‹¿äº†å¾½ç« å°±è·‘è·¯",nextSceneId:"start_02"},{text:"è¿˜æƒ³å†é—®ä¸¤å¥",nextSceneId:"end_death_suspicion"}]},end_death_guard:{id:"end_death_guard",text:"ä¹˜åŠ¡é•¿æ‰‹è‡‚å˜åˆ€ï¼šâ€œå¼‚å¸¸æ•°æ®ï¼Œæ ¼å¼åŒ–ã€‚â€<br>å’”åš“ã€‚<br>ä½ æ²¡äº†ã€‚",speaker:"ä¹˜åŠ¡é•¿",character:"boss",isEnding:!0,options:[]},scene_seat_check:{id:"scene_seat_check",text:"ä½ å¼¯è…°ä¸€çœ‹ï¼Œæœç„¶æœ‰ä¸ªé—ªçƒçš„å°ç»ˆç«¯ï¼Œå±å¹•ä¸Šå†™ç€ã€Œéœ€è¦æˆæƒç ã€ã€‚",speaker:"æ—ç™½",bgImage:"https://images.unsplash.com/photo-1504198266287-1659872e6590?q=80&w=2070&auto=format&fit=crop",options:[{text:"ç”¨çº¸æ¡ä¸Šçš„ä»£ç è¯•è¯•",nextSceneId:"scene_hack_terminal",reqFragment:"frag_01"},{text:"ä¸æ•¢ç¢°ï¼Œå›å»",nextSceneId:"start_02"}]},scene_hack_terminal:{id:"scene_hack_terminal",text:"ä»£ç è¾“è¿›å»ï¼Œå±å¹•ä¸€äº®ï¼š<br>ã€Œåˆ—è½¦æœ¬èº«å°±æ˜¯ç—…æ¯’ï¼Œçˆ†ç‚¸åªæ˜¯æ¸…ç†æœºåˆ¶ã€‚ã€<br>ä¸€å¤§å †æ•°æ®ç–¯ç‹‚å¾€ä¸‹åˆ·ï¼Œä½ æ‰‹é€Ÿèµ·é£å…¨ä¸‹è½½äº†ï¼",speaker:"ç³»ç»Ÿæç¤º",unlockFragment:{id:"frag_04",name:"ç—…æ¯’æºä»£ç "},options:[{text:"ä¸‹è½½å®Œæˆï¼",nextSceneId:"scene_download_success"}]},scene_download_success:{id:"scene_download_success",text:"ä¹‰çœ¼æç¤ºï¼šã€ç—…æ¯’æºä»£ç ã€‘å·²æ”¶é›†ï¼<br>è€å­ç°åœ¨æœ‰åº•æ°”äº†ï¼",speaker:"é˜¿å“²",character:"protagonist",options:[{text:"å»åè½¦å¢ç»§ç»­æ‰¾çº¿ç´¢",nextSceneId:"start_02"}]},scene_meet_lin:{id:"scene_meet_lin",text:"ä¸€ä¸ªç©¿çº¢è¡£æœçš„çŸ­å‘å°‘å¥³çªç„¶æ‹‰ä½ä½ ï¼Œå°å£°è¯´ï¼š<br>â€œå˜˜ï¼Œåˆ«å‡ºå£°ï¼Œè·Ÿæˆ‘æ¥ï¼Œæˆ‘çŸ¥é“æ€ä¹ˆæ´»ä¸‹å»ã€‚â€",speaker:"æ—",character:"lin",unlockFragment:{id:"frag_02",name:"çº¢è¡£å°‘å¥³çš„æš—ç¤º"},options:[{text:"è·Ÿå¥¹èµ°",nextSceneId:"end_true"},{text:"ä½ è°å•Šï¼Ÿï¼",nextSceneId:"end_death_guard"}]},scene_bomb_check:{id:"scene_bomb_check",text:"ä½ æ‰‹è´±ç¢°äº†è£…ç½®ã€‚è½°ï¼å…¨è½¦å‡å¤©ã€‚<br>ç¬¬100æ¬¡å¾ªç¯ï¼Œå¯åŠ¨ï¼",isEnding:!0,options:[]},end_death_suspicion:{id:"end_death_suspicion",text:"è€å¤´çªç„¶å˜è„¸æŒ‰è­¦æŠ¥ã€‚ä¹˜åŠ¡é•¿ç§’åˆ°ï¼šâ€œçŸ¥é“å¤ªå¤šçš„äººï¼Œéƒ½å¾—æ­»ã€‚â€<br>å¯„ã€‚",isEnding:!0,options:[]},end_true:{id:"end_true",text:"System Reboot... Success.<br>Welcome back, Administrator.",bgImage:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop",isEnding:!0,options:[]}},w=d("start_01"),m=d(""),c=d(!1),y=d(!1),g=d(new Set),z=d(1),r=b(()=>q[w.value]),I=b(()=>{if(!r.value)return!1;const e=r.value.options;if(r.value.isEnding||e.length!==1)return!1;const t=e[0];return!(t.reqFragment&&!g.value.has(t.reqFragment))}),B=b(()=>!c.value&&I.value),G=b(()=>{const e=r.value?.text||"";return e.includes("å¯„")||e.includes("æ­»")||e.includes("è½°")}),j=b(()=>r.value?r.value.options.map(e=>({...e,locked:e.reqFragment?!g.value.has(e.reqFragment):!1})):[]),H=e=>T.find(t=>t.id===e)?.name||"æœªçŸ¥ç¢ç‰‡",S=e=>g.value.has(e),W=()=>{L()},L=()=>{if(c.value){R();return}if(I.value){const e=r.value.options[0].nextSceneId;h(e)}};let x=null;const N=d(""),K=async e=>{c.value=!0,m.value="",N.value=e;let t=0;const C=40;return new Promise(_=>{x&&clearInterval(x),x=setInterval(()=>{if(t<e.length)if(e[t]==="<"){const s=e.indexOf(">",t);s!==-1&&(m.value+=e.substring(t,s+1),t=s+1)}else m.value+=e[t],t++;else R(_)},C)})},R=e=>{x&&clearInterval(x),m.value=N.value,c.value=!1,e&&e()},h=async e=>{const t=q[e];t&&(w.value=e,t.unlockFragment&&!g.value.has(t.unlockFragment.id)&&(g.value.add(t.unlockFragment.id),Y.success({message:`è·å¾—è®°å¿†ç¢ç‰‡: [${t.unlockFragment.name}]`,type:"success",duration:3e3,offset:100})),await K(t.text))},P=e=>{e.locked||h(e.nextSceneId)},$=()=>{y.value=!0,z.value++,setTimeout(()=>{m.value="",h("start_01"),y.value=!1},800)};return J(()=>{h("start_01")}),(e,t)=>{const C=Z,_=X;return n(),o("div",{class:"relative w-full h-screen overflow-hidden bg-slate-900 font-sans select-none",onClick:W},[l(f,{name:"fade-slow"},{default:i(()=>[(n(),o("div",{key:r.value?.bgImage||"default-bg",class:"absolute inset-0 z-0"},[r.value?.bgImage?(n(),o("img",{key:0,src:r.value.bgImage,class:"w-full h-full object-cover opacity-60 scale-105 animate-slow-pan",alt:"Background"},null,8,oe)):(n(),o("div",re)),t[0]||(t[0]=a("div",{class:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-black/20"},null,-1))]))]),_:1}),l(f,{name:"flash"},{default:i(()=>[y.value?(n(),o("div",le)):p("",!0)]),_:1}),a("div",ie,[a("div",ce,[t[2]||(t[2]=a("div",{class:"flex items-center gap-2"},[a("div",{class:"w-1.5 h-6 bg-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.8)]"}),a("h1",{class:"text-2xl font-bold text-white tracking-widest uppercase drop-shadow-md"},"ç¬¬13å·åˆ—è½¦")],-1)),a("div",de,[a("span",null,"LOOP: "+u(z.value),1),t[1]||(t[1]=a("span",null,"|",-1)),a("span",null,"SCENE: "+u(w.value),1)])]),a("div",ue,[(n(),o(M,null,O(T,s=>l(C,{key:s.id,content:S(s.id)?s.name:"æœªè§£é”",placement:"bottom",effect:"dark"},{default:i(()=>[a("div",{class:v(["relative flex items-center justify-center w-10 h-10 rounded-lg border backdrop-blur-md transition-all duration-500",S(s.id)?"border-amber-400/50 bg-amber-500/10 shadow-[0_0_15px_rgba(251,191,36,0.2)]":"border-white/10 bg-black/20 grayscale"])},[(n(),Q(U(S(s.id)?"Key":"Lock"),{class:"w-4 h-4 text-amber-100"}))],2)]),_:2},1032,["content"])),64))])]),a("div",pe,[a("div",me,[l(f,{name:"slide-fade"},{default:i(()=>[r.value?.character?(n(),o("div",_e,[a("img",{src:D(r.value.character),class:"h-full w-auto object-contain animate-float",alt:"Character"},null,8,fe)])):p("",!0)]),_:1})]),a("div",ge,[l(f,{name:"fade"},{default:i(()=>[r.value?.speaker?(n(),o("div",xe,[a("div",be,[a("span",he,u(r.value.speaker),1)])])):p("",!0)]),_:1}),a("div",{class:v(["relative bg-gradient-to-b from-slate-900/90 to-slate-950/95 backdrop-blur-xl border border-white/10 p-6 md:p-10 rounded-tr-3xl rounded-bl-3xl shadow-2xl transition-all duration-300 min-h-[180px] flex flex-col justify-between group active:scale-[0.99]",{"cursor-pointer hover:border-amber-500/30":B.value}]),onClick:F(L,["stop"])},[t[4]||(t[4]=a("div",{class:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent"},null,-1)),a("div",ve,[a("span",{innerHTML:m.value},null,8,ke),c.value?(n(),o("span",we)):p("",!0)]),B.value?(n(),o("div",ye,[t[3]||(t[3]=a("span",{class:"text-xs font-mono tracking-widest uppercase opacity-70"},"Click to Continue",-1)),l(_,{class:"text-2xl"},{default:i(()=>[l(k(ee))]),_:1})])):p("",!0)],2),l(f,{name:"slide-up-fade"},{default:i(()=>[!c.value&&!I.value&&j.value.length>0?(n(),o("div",Ie,[(n(!0),o(M,null,O(j.value,(s,V)=>(n(),o("button",{key:V,class:"relative w-full md:w-3/4 max-w-2xl group overflow-hidden transition-all duration-300 transform hover:scale-[1.02] active:scale-[0.98]",disabled:s.locked,onClick:F(Le=>P(s),["stop"])},[a("div",{class:v(["absolute inset-0 border transition-all duration-300",s.locked?"bg-slate-800/80 border-slate-700":"bg-black/60 backdrop-blur-md border-amber-500/30 group-hover:bg-amber-600/90 group-hover:border-amber-400"])},null,2),a("div",Ce,[a("span",{class:v(["text-base md:text-lg font-medium tracking-wider transition-colors duration-300 flex items-center gap-3",s.locked?"text-slate-500":"text-slate-100 group-hover:text-white"])},[a("span",Fe,"0"+u(V+1),1),E(" "+u(s.text),1)],2),s.locked?(n(),o("span",Ee,[l(_,null,{default:i(()=>[l(k(te))]),_:1}),E(" éœ€: "+u(H(s.reqFragment)),1)])):(n(),o("span",Te,[l(_,null,{default:i(()=>[l(k(ae))]),_:1})]))])],8,Se))),128))])):p("",!0)]),_:1}),l(f,{name:"zoom-in"},{default:i(()=>[r.value?.isEnding&&!c.value?(n(),o("div",qe,[a("div",ze,u(G.value?"ğŸ’€":"ğŸ”“"),1),a("button",{onClick:F($,["stop"]),class:"px-12 py-4 bg-red-600 hover:bg-red-500 text-white font-bold tracking-[0.2em] text-lg uppercase rounded shadow-[0_0_30px_rgba(220,38,38,0.6)] transition-all transform hover:scale-105 hover:rotate-1 flex items-center gap-3 border border-red-400"},[l(_,{class:"animate-spin-slow"},{default:i(()=>[l(k(se))]),_:1}),t[5]||(t[5]=E(" Reboot System ",-1))])])):p("",!0)]),_:1})])])])}}}),He=ne(Be,[["__scopeId","data-v-4df42ede"]]);export{He as default};
