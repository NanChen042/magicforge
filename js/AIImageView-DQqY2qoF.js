import{j as le,a as Le,r as y,a0 as Me,B as Ve,w as Ie,H as _,J as o,Y as a,R as n,T as B,az as Ee,L as Y,W as L,X as q,ae as N,V as E,a2 as ze,u as b,Q as ee,I as u}from"./vue-BJlp2Mwx.js";import{E as Be,a as Se,b as Ae,c as Te,d as Ue,e as $e,f as Pe,h as Fe,i as He,j as De,k as je,l as Re,p as qe,s as Ne,m as O,n as Ge,z as We,o as ae,q as te,r as p}from"./index-Dq4XrQ0p.js";import{a as Ze}from"./index-t--hEgTQ.js";import{_ as oe}from"./vue-helper-DlAUqK2U.js";import"./pinia-BGq-fEY2.js";import"./vue-router-BWhT9PyQ.js";const G={baseURL:"https://api.siliconflow.cn/v1",apiKey:"sk-etybbrewlaafxjjqtlgfeqaaskzrmryfndjtjjecyixbsznw"};console.log("Image API Key configured:",!0);console.log("Image API Base URL:",G.baseURL);var M=(w=>(w.Square="1024x1024",w.Portrait="960x1280",w.Small="768x1024",w.Tall="720x1440",w.Medium="720x1280",w.Wide="1536x1024",w.Widescreen="2048x1152",w))(M||{});class Oe{async generateImage(m){var x,V,s,g;try{const v={model:"Kwai-Kolors/Kolors",prompt:m.prompt,image_size:m.image_size,batch_size:m.batch_size,num_inference_steps:m.num_inference_steps,guidance_scale:m.guidance_scale};m.negative_prompt&&(v.negative_prompt=m.negative_prompt),m.seed!==void 0&&(v.seed=m.seed),m.image&&(v.image=m.image),console.log("Sending image generation request:",{...v,image:v.image?"[BASE64_DATA]":void 0}),G.apiKey;const z=await Ze.post(`${G.baseURL}/images/generations`,v,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${G.apiKey}`}});return console.log("Image generation response:",z.data),z.data}catch(v){throw console.error("Image generation error:",((x=v.response)==null?void 0:x.data)||v.message||v),new Error(((g=(s=(V=v.response)==null?void 0:V.data)==null?void 0:s.error)==null?void 0:g.message)||"图片生成服务出错了")}}async fileToBase64(m){return new Promise((x,V)=>{const s=new FileReader;s.readAsDataURL(m),s.onload=()=>x(s.result),s.onerror=g=>V(g)})}}const se=new Oe,Ke={class:"image-gen-view"},Je={class:"content-container"},Qe={class:"form-container"},Xe={class:"form-card"},Ye={class:"templates-section"},ea={class:"template-grid"},aa={class:"form-card"},ta={class:"card-header"},sa={class:"presets-section"},la={class:"size-option-content"},oa={class:"size-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},na=["x","y","width","height"],ia={class:"size-label"},ra={class:"parameter-grid"},da={class:"seed-input-group"},ca={class:"form-card"},pa={key:0,class:"image-preview"},ua=["src"],ma={key:1,class:"upload-placeholder"},va={class:"generate-button-container"},_a={class:"results-container"},ga={key:0,class:"empty-state"},fa={class:"empty-state-content"},ha={class:"empty-actions"},ba={key:1,class:"loading-state"},wa={class:"loading-content"},ya={class:"progress-container"},ka={class:"progress-percentage"},xa={key:2,class:"generated-images"},Ca={class:"results-header"},La={class:"generation-info"},Ma={key:0},Va={key:1},Ia={class:"image-grid"},Ea=["src","onClick"],za={class:"image-overlay"},Ba={class:"image-actions"},Sa={class:"action-buttons"},Aa={class:"flex"},Ta=["src"],Ua={class:"preview-actions"},$a=le({__name:"AIImageGenerator",setup(w){const m={Square:{value:M.Square,label:"1:1 方形",ratio:"1:1",ratioLabel:"1:1"},Portrait:{value:M.Portrait,label:"3:4 竖向",ratio:"3:4",ratioLabel:"3:4"},Small:{value:M.Small,label:"3:4 小尺寸",ratio:"3:4",ratioLabel:"3:4"},Tall:{value:M.Tall,label:"1:2 高竖版",ratio:"1:2",ratioLabel:"1:2"},Medium:{value:M.Medium,label:"9:16 中等",ratio:"9:16",ratioLabel:"9:16"},Wide:{value:M.Wide,label:"3:2 宽幅",ratio:"3:2",ratioLabel:"3:2"},Widescreen:{value:M.Widescreen,label:"16:9 宽屏",ratio:"16:9",ratioLabel:"16:9"}},x=[{label:"风景摄影",prompt:"一个美丽的自然风景，阳光透过云层，远处有连绵的山脉，前景是一片野花盛开的草地",negative_prompt:"模糊，过度曝光，人工痕迹",parameters:{guidance_scale:8.5,num_inference_steps:30}},{label:"人物肖像",prompt:"一张专业的人物肖像照片，自然光线，浅景深，柔和的背景虚化",negative_prompt:"变形，扭曲，不自然的姿势",parameters:{guidance_scale:7,num_inference_steps:25}},{label:"抽象艺术",prompt:"现代抽象艺术作品，充满活力的色彩，流动的形状，富有表现力的笔触",negative_prompt:"具象物体，照片级真实感",parameters:{guidance_scale:5.5,num_inference_steps:40}},{label:"城市夜景",prompt:"繁华都市的夜景，霓虹灯闪烁，高楼大厦，街道上的车流形成光线轨迹",negative_prompt:"模糊，过度曝光，不自然的光源",parameters:{guidance_scale:7,num_inference_steps:30}},{label:"美食摄影",prompt:"精致美食特写，完美的摆盘，柔和的自然光线，清晰的质感和细节",negative_prompt:"模糊，不自然的颜色，低质量",parameters:{guidance_scale:7.5,num_inference_steps:35}},{label:"科幻场景",prompt:"未来主义科幻场景，先进的技术，飞行器，全息投影，科技感的建筑",negative_prompt:"老旧，乡村，自然，原始",parameters:{guidance_scale:8,num_inference_steps:40}},{label:"水下世界",prompt:"梦幻的水下场景，五彩缤纷的珊瑚礁，热带鱼群，柔和的水下光线穿透水面",negative_prompt:"模糊，污染，黑暗",parameters:{guidance_scale:7.5,num_inference_steps:30}},{label:"卡通风格",prompt:"卡通风格的插图，明亮饱和的色彩，简洁的线条，可爱的角色设计",negative_prompt:"现实主义，照片级真实感，恐怖，暗黑",parameters:{guidance_scale:6,num_inference_steps:25}}],V=[{label:"快速生成",value:{num_inference_steps:20,guidance_scale:7}},{label:"标准质量",value:{num_inference_steps:30,guidance_scale:7.5}},{label:"高质量",value:{num_inference_steps:50,guidance_scale:8}}],s=Le({prompt:"",negative_prompt:"",image_size:M.Square,batch_size:1,num_inference_steps:20,guidance_scale:7.5,seed:void 0,image:void 0}),g=y(!1),v=y(""),z=y([]),d=y(null),U=y(null),C=y(0),W=y(20);let S=null;const T=y(!1),$=y(""),K=y(""),P=y(null),F={"network error":"网络连接错误，请检查您的网络连接",timeout:"请求超时，服务器可能繁忙，请稍后再试","server error":"服务器错误，请联系管理员",invalid_api_key:"API密钥无效，请检查您的设置",invalid_prompt:"提示词格式错误，请修改后重试",content_policy_violation:"提示词内容不符合使用政策，请修改后重试",20015:"推理步骤必须小于或等于50"},ne=()=>{s.seed=Math.floor(Math.random()*1e9)},ie=async t=>{const{file:e}=t;try{const l=await se.fileToBase64(e);s.image=l,v.value=l,p.success("参考图片上传成功")}catch(l){p.error("图片处理失败"),console.error("图片处理错误:",l)}},re=t=>{const e=t.type.startsWith("image/"),l=t.size/1024/1024<5;return e?l?!0:(p.error("图片大小不能超过 5MB!"),!1):(p.error("只能上传图片文件!"),!1)},de=()=>{v.value="",s.image=void 0},J=async()=>{var t;if(console.log("Generating image with data:",JSON.stringify(s,null,2)),!s.prompt){p.warning("请输入提示词");return}s.num_inference_steps>50&&(s.num_inference_steps=50,p.warning("推理步骤已自动调整为最大值50")),g.value=!0,U.value=null,ce();try{const e=Date.now(),l=await se.generateImage({prompt:s.prompt,negative_prompt:s.negative_prompt||void 0,image_size:s.image_size,batch_size:s.batch_size,num_inference_steps:s.num_inference_steps,guidance_scale:s.guidance_scale,seed:s.seed,image:s.image}),c=Date.now();U.value=parseFloat(((c-e)/1e3).toFixed(1)),z.value=l.images,d.value=l.seed,C.value=100,p.success("图片生成成功")}catch(e){C.value=0;let l=e.message||"未知错误",c="";try{if(typeof l=="string"&&l.includes("{")){const r=JSON.parse(l.substring(l.indexOf("{")));c=((t=r.code)==null?void 0:t.toString())||"",l=r.message||l}}catch(r){console.error("Error parsing error message:",r)}if(c&&F[c])p.error(F[c]);else{const r=Object.keys(F).find(A=>l.toLowerCase().includes(A.toLowerCase()));r?p.error(F[r]):p.error(`图片生成失败: ${l}`)}console.error("图片生成失败:",e)}finally{S!==null&&(clearInterval(S),S=null),setTimeout(()=>{g.value=!1},500)}},ce=()=>{C.value=0,W.value=20,S=window.setInterval(()=>{if(C.value<99){const t=Math.floor(Math.random()*5)+1;C.value=Math.min(99,C.value+t);const e=100-C.value;W.value=Math.max(1,Math.round(e/5))}},800)};Me(()=>{S!==null&&clearInterval(S)});const pe=(t,e)=>{const l=document.createElement("a");l.href=t,l.download=`generated-image-${d.value||Date.now()}-${e}.png`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},ue=t=>{t!==null&&(s.seed=t,p.success(`已设置种子: ${t}`))},Q=t=>{s.prompt=t.prompt,s.negative_prompt=t.negative_prompt,t.parameters&&(s.guidance_scale=t.parameters.guidance_scale,s.num_inference_steps=t.parameters.num_inference_steps),Z(),p.success("已应用模板")},me=t=>{s.num_inference_steps=t.value.num_inference_steps,s.guidance_scale=t.value.guidance_scale,P.value=t.label,p.success("已应用参数预设")},ve=t=>{if(typeof t=="string"){const e=V.find(l=>l.label===t);e&&me(e)}},Z=()=>{const t=s.num_inference_steps,e=s.guidance_scale,l=V.find(c=>c.value.num_inference_steps===t&&c.value.guidance_scale===e);P.value=l?l.label:null},X=t=>{$.value=t,T.value=!0,K.value=`生成图片 (种子: ${d.value||"随机"})`},H=(t,e,l)=>{switch(t){case"preview":X(e);break;case"download":pe(e,l);break;case"use-seed":ue(d.value);break;case"regenerate":_e(d.value);break}},_e=async t=>{t!==null&&(s.seed=t,await J())},ge=()=>{if(!$.value)return;const t=document.createElement("a");t.href=$.value,t.download=`generated-image-${d.value||Date.now()}.png`,document.body.appendChild(t),t.click(),document.body.removeChild(t),p.success("图片下载已开始")},fe=async()=>{if(d.value!==null)try{await navigator.clipboard.writeText(d.value.toString()),p.success(`已复制种子(${d.value})到剪贴板`)}catch{const e=document.createElement("textarea");e.value=d.value.toString(),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),p.success(`已复制种子(${d.value})到剪贴板`)}},he=()=>{d.value!==null&&(s.seed=d.value,p.success(`已设置种子: ${d.value}`),T.value=!1)},be=()=>{const e=s.image_size.split("x");if(e.length===2){const l=parseInt(e[0]);return{paddingBottom:`${parseInt(e[1])/l*100}%`,height:"0"}}return{paddingBottom:"100%",height:"0"}},we=()=>{const t=Math.floor(Math.random()*x.length);Q(x[t])},ye=()=>{const t=document.querySelector(".generation-form");t&&t.scrollIntoView({behavior:"smooth",block:"start"})},D=t=>{let c=18,r=18;try{const[k,f]=t.split(":").map(Number);k&&f&&(k>f?(c=18,r=18*f/k):(r=18,c=18*k/f))}catch(k){console.error("Error parsing ratio:",t,k)}const A=(24-c)/2,j=(24-r)/2;return{x:A,y:j,width:c,height:r}};return Ve(()=>{Z()}),Ie([()=>s.num_inference_steps,()=>s.guidance_scale],()=>{Z()}),(t,e)=>{const l=Se,c=$e,r=Ue,A=Fe,j=Pe,k=He,f=De,h=Ae,ke=je,xe=Be,Ce=Te;return u(),_("div",Ke,[e[24]||(e[24]=o("div",{class:"page-header"},[o("h1",null,"AIVista Image Studio"),o("p",{class:"subtitle"},"使用人工智能创建高质量图片 - AI Image Generation")],-1)),o("div",Je,[o("div",Qe,[a(xe,{model:s,"label-position":"top",class:"generation-form"},{default:n(()=>[o("div",Xe,[o("div",Ye,[e[10]||(e[10]=o("h3",null,"快速模板",-1)),o("div",ea,[(u(),_(q,null,N(x,i=>a(l,{key:i.label,size:"small",onClick:I=>Q(i)},{default:n(()=>[E(L(i.label),1)]),_:2},1032,["onClick"])),64))])]),a(r,{label:"提示词 (Prompt)"},{default:n(()=>[a(c,{modelValue:s.prompt,"onUpdate:modelValue":e[0]||(e[0]=i=>s.prompt=i),type:"textarea",rows:4,placeholder:"描述你想要生成的图片内容..."},null,8,["modelValue"])]),_:1}),a(r,{label:"负面提示词 (Negative Prompt)"},{default:n(()=>[a(c,{modelValue:s.negative_prompt,"onUpdate:modelValue":e[1]||(e[1]=i=>s.negative_prompt=i),type:"textarea",rows:2,placeholder:"描述你不希望出现在图片中的内容..."},null,8,["modelValue"])]),_:1})]),o("div",aa,[o("div",ta,[e[12]||(e[12]=o("h3",null,"图片参数",-1)),o("div",sa,[e[11]||(e[11]=o("span",{class:"preset-title"},"快速预设:",-1)),a(j,{modelValue:P.value,"onUpdate:modelValue":e[2]||(e[2]=i=>P.value=i),onChange:ve,size:"small",class:"preset-radio-group"},{default:n(()=>[(u(),_(q,null,N(V,i=>a(A,{key:i.label,value:i.label},{default:n(()=>[E(L(i.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])])]),a(r,{label:"图片尺寸"},{default:n(()=>[a(j,{modelValue:s.image_size,"onUpdate:modelValue":e[3]||(e[3]=i=>s.image_size=i),class:"size-selector"},{default:n(()=>[(u(),_(q,null,N(m,(i,I)=>a(A,{key:I,value:i.value,class:"size-radio-button"},{default:n(()=>[o("div",la,[(u(),_("svg",oa,[o("rect",{x:D(i.ratio).x,y:D(i.ratio).y,width:D(i.ratio).width,height:D(i.ratio).height,rx:"1",class:"svg-rect"},null,8,na)])),o("span",ia,L(i.ratioLabel||i.label),1)])]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),o("div",ra,[a(r,{label:"生成数量"},{default:n(()=>[a(k,{modelValue:s.batch_size,"onUpdate:modelValue":e[4]||(e[4]=i=>s.batch_size=i),min:1,max:4,step:1,marks:{1:"1",2:"2",3:"3",4:"4"},"show-stops":""},null,8,["modelValue"])]),_:1}),a(r,{label:"创造性 (引导系数)"},{default:n(()=>[a(f,{content:"较低的值会产生更有创意但不太准确的结果，较高的值会使生成更忠于提示词但创意性较低",placement:"top"},{default:n(()=>[a(k,{modelValue:s.guidance_scale,"onUpdate:modelValue":e[5]||(e[5]=i=>s.guidance_scale=i),min:1,max:20,step:.5,marks:{1:"高创造性",10:"平衡",20:"高精确性"}},null,8,["modelValue"])]),_:1})]),_:1}),a(r,{label:"细节程度 (推理步骤)"},{default:n(()=>[a(f,{content:"更高的值会产生更细致的图像，但需要更长时间生成。最大值为50。",placement:"top"},{default:n(()=>[a(k,{modelValue:s.num_inference_steps,"onUpdate:modelValue":e[6]||(e[6]=i=>s.num_inference_steps=i),min:1,max:50,step:1,marks:{1:"低",20:"中",50:"高"}},null,8,["modelValue"])]),_:1})]),_:1})]),a(r,{label:"随机种子 (可选)"},{default:n(()=>[a(f,{content:"使用相同种子可以在其他参数相同时获得相似结果",placement:"top"},{default:n(()=>[o("div",da,[a(c,{modelValue:s.seed,"onUpdate:modelValue":e[7]||(e[7]=i=>s.seed=i),modelModifiers:{number:!0},type:"number",placeholder:"输入种子或留空随机生成"},null,8,["modelValue"]),a(l,{onClick:ne},{default:n(()=>e[13]||(e[13]=[E("随机")])),_:1})])]),_:1})]),_:1})]),o("div",ca,[e[16]||(e[16]=o("h3",null,"参考图片",-1)),a(r,null,{default:n(()=>[a(ke,{class:"image-uploader","show-file-list":!1,"before-upload":re,"auto-upload":!0,"http-request":ie,action:"#"},{default:n(()=>[v.value?(u(),_("div",pa,[o("img",{src:v.value,class:"uploaded-image"},null,8,ua),o("div",{class:"remove-image",onClick:ze(de,["stop"])},[a(h,null,{default:n(()=>[a(b(Re))]),_:1})])])):(u(),_("div",ma,[a(h,{class:"upload-icon"},{default:n(()=>[a(b(qe))]),_:1}),e[14]||(e[14]=o("div",{class:"upload-text"},"点击上传参考图片",-1))]))]),_:1}),e[15]||(e[15]=o("div",{class:"upload-tip"},"上传图片后，AI将生成与参考图片风格相似的图像",-1))]),_:1})]),o("div",va,[a(l,{type:"primary",class:"generate-button",onClick:J,loading:g.value,disabled:!s.prompt||g.value},{default:n(()=>[E(L(g.value?"生成中...":"生成图片"),1)]),_:1},8,["loading","disabled"])])]),_:1},8,["model"])]),o("div",_a,[!z.value.length&&!g.value?(u(),_("div",ga,[o("div",fa,[e[19]||(e[19]=Ee('<div class="empty-header" data-v-adb74436><div class="empty-title-container" data-v-adb74436><span class="empty-badge" data-v-adb74436>AI 驱动</span><h3 class="empty-title" data-v-adb74436>开始创建您的专属AI艺术</h3><p class="empty-subtitle" data-v-adb74436>只需简单几步，轻松生成高品质图像</p></div><div class="decoration-container" data-v-adb74436><svg width="180" height="180" viewBox="0 0 480 480" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-adb74436><circle cx="240" cy="240" r="220" fill="url(#paint0_radial)" fill-opacity="0.15" data-v-adb74436></circle><path d="M175 170C175 162.268 181.268 156 189 156H291C298.732 156 305 162.268 305 170V310C305 317.732 298.732 324 291 324H189C181.268 324 175 317.732 175 310V170Z" fill="white" stroke="#4E54C8" stroke-width="3" data-v-adb74436></path><path d="M200 190H280" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-adb74436></path><path d="M200 210H260" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-adb74436></path><path d="M200 230H240" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-adb74436></path><circle cx="230" cy="270" r="30" fill="#8F94FB" fill-opacity="0.5" data-v-adb74436></circle><path d="M240 140V100" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-adb74436></path><path d="M290 150L320 120" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-adb74436></path><path d="M190 150L160 120" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-adb74436></path><path d="M340 240H380" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-adb74436></path><path d="M100 240H140" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-adb74436></path><circle cx="360" cy="180" r="25" fill="#8F94FB" fill-opacity="0.4" data-v-adb74436></circle><circle cx="120" cy="300" r="30" fill="#8F94FB" fill-opacity="0.3" data-v-adb74436></circle><circle cx="320" cy="340" r="20" fill="#8F94FB" fill-opacity="0.5" data-v-adb74436></circle><defs data-v-adb74436><radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(240 240) rotate(90) scale(220)" data-v-adb74436><stop stop-color="#4E54C8" data-v-adb74436></stop><stop offset="1" stop-color="#8F94FB" stop-opacity="0" data-v-adb74436></stop></radialGradient></defs></svg></div></div><div class="steps-container" data-v-adb74436><div class="step-card" data-v-adb74436><div class="step-header" data-v-adb74436><div class="step-number" data-v-adb74436>1</div><h4 data-v-adb74436>填写提示词</h4></div><div class="step-icon" data-v-adb74436><svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-adb74436><path d="M3.5 18.5L4 18L14 8L16 10L6 20L5.5 20.5H3.5V18.5Z" fill="#e6e9ff" data-v-adb74436></path><path d="M14 8L14.75 7.25L16.75 9.25L16 10L14 8Z" fill="#c6c9f8" data-v-adb74436></path><path d="M14.75 7.25L15.5 6.5L17.5 8.5L16.75 9.25L14.75 7.25Z" fill="#a6a9e8" data-v-adb74436></path><path d="M15.5 6.5L16.25 5.75L18.25 7.75L17.5 8.5L15.5 6.5Z" fill="#8689d8" data-v-adb74436></path><path d="M16.25 5.75L17 5L19 7L18.25 7.75L16.25 5.75Z" fill="#6669c8" data-v-adb74436></path><path d="M3.5 18.5V20.5H5.5L16 10L14 8L3.5 18.5ZM17 5L19 7L10 16L6 20H3V17L13 7L17 5Z" stroke="#4E54C8" stroke-width="1.5" stroke-linejoin="round" data-v-adb74436></path></svg></div><p class="step-description" data-v-adb74436>描述您想要创建的图像内容，或使用内置模板快速开始创作</p></div><div class="step-arrow" data-v-adb74436><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-adb74436><path d="M5 12H19M19 12L13 6M19 12L13 18" stroke="#a6a9e8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-adb74436></path></svg></div><div class="step-card" data-v-adb74436><div class="step-header" data-v-adb74436><div class="step-number" data-v-adb74436>2</div><h4 data-v-adb74436>选择参数</h4></div><div class="step-icon" data-v-adb74436><svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-adb74436><rect x="3" y="5" width="18" height="14" rx="2" fill="#e6e9ff" stroke="#4E54C8" stroke-width="1.5" data-v-adb74436></rect><path d="M7 10L10 13L7 16" stroke="#4E54C8" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-adb74436></path><path d="M13 16H17" stroke="#4E54C8" stroke-width="1.5" stroke-linecap="round" data-v-adb74436></path><path d="M13 12H17" stroke="#4E54C8" stroke-width="1.5" stroke-linecap="round" data-v-adb74436></path><path d="M13 8H17" stroke="#4E54C8" stroke-width="1.5" stroke-linecap="round" data-v-adb74436></path></svg></div><p class="step-description" data-v-adb74436>调整尺寸、细节程度和创造性等参数以获得理想效果</p></div><div class="step-arrow" data-v-adb74436><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-adb74436><path d="M5 12H19M19 12L13 6M19 12L13 18" stroke="#a6a9e8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-adb74436></path></svg></div><div class="step-card" data-v-adb74436><div class="step-header" data-v-adb74436><div class="step-number" data-v-adb74436>3</div><h4 data-v-adb74436>生成图像</h4></div><div class="step-icon" data-v-adb74436><svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-adb74436><rect x="3" y="3" width="18" height="18" rx="2" fill="#e6e9ff" stroke="#4E54C8" stroke-width="1.5" data-v-adb74436></rect><circle cx="16" cy="8" r="2" fill="#8F94FB" data-v-adb74436></circle><path d="M3 14L7 10L11 14L16 9L21 14V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V14Z" fill="#c6c9f8" stroke="#4E54C8" stroke-width="1.5" data-v-adb74436></path></svg></div><p class="step-description" data-v-adb74436>点击&quot;生成图片&quot;按钮，AI将为您创建完全个性化的艺术作品</p></div></div>',2)),o("div",ha,[a(l,{type:"primary",class:"action-button",onClick:we},{default:n(()=>[a(h,null,{default:n(()=>[a(b(Ne))]),_:1}),e[17]||(e[17]=o("span",null,"使用随机模板",-1))]),_:1}),a(l,{class:"action-button secondary-button",onClick:ye},{default:n(()=>[a(h,null,{default:n(()=>[a(b(O))]),_:1}),e[18]||(e[18]=o("span",null,"开始创作",-1))]),_:1})])])])):B("",!0),g.value?(u(),_("div",ba,[o("div",wa,[a(h,{class:"loading-icon"},{default:n(()=>[a(b(Ge))]),_:1}),o("div",ya,[o("div",{class:"progress-bar",style:Y({width:`${C.value}%`})},null,4)]),o("p",null,"AI 正在绘制你的图片，预计还需 "+L(W.value)+"秒",1),o("p",ka,L(C.value)+"%",1)])])):B("",!0),z.value.length>0?(u(),_("div",xa,[o("div",Ca,[e[20]||(e[20]=o("h2",null,"生成结果",-1)),o("div",La,[U.value?(u(),_("p",Ma,"生成时间: "+L(U.value)+"秒",1)):B("",!0),d.value!==null?(u(),_("p",Va,"种子: "+L(d.value),1)):B("",!0)])]),o("div",Ia,[(u(!0),_(q,null,N(z.value,(i,I)=>(u(),_("div",{key:I,class:"image-item"},[o("div",{class:"image-wrapper",style:Y(be())},[o("img",{src:i.url,alt:"生成的图片",loading:"lazy",onClick:R=>X(i.url)},null,8,Ea),o("div",za,[o("div",Ba,[o("div",Sa,[a(f,{content:"预览大图",placement:"top"},{default:n(()=>[a(l,{size:"small",type:"primary",plain:"",onClick:R=>H("preview",i.url,I)},{default:n(()=>[a(h,null,{default:n(()=>[a(b(We))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),a(f,{content:"下载图片",placement:"top"},{default:n(()=>[a(l,{size:"small",type:"primary",plain:"",onClick:R=>H("download",i.url,I)},{default:n(()=>[a(h,null,{default:n(()=>[a(b(ae))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),a(f,{content:"复制图片种子值",placement:"top"},{default:n(()=>[a(l,{size:"small",type:"primary",plain:"",onClick:R=>H("use-seed",i.url,I)},{default:n(()=>[a(h,null,{default:n(()=>[a(b(te))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),a(f,{content:"使用该种子重新生成",placement:"top"},{default:n(()=>[a(l,{size:"small",type:"primary",plain:"",onClick:R=>H("regenerate",i.url,I)},{default:n(()=>[a(h,null,{default:n(()=>[a(b(O))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])])])],4)]))),128))])])):B("",!0)])]),a(Ce,{modelValue:T.value,"onUpdate:modelValue":e[9]||(e[9]=i=>T.value=i),title:K.value,class:"preview-dialog","append-to-body":!0},{footer:n(()=>[o("div",Ua,[a(l,{onClick:e[8]||(e[8]=i=>T.value=!1)},{default:n(()=>e[21]||(e[21]=[E("关闭")])),_:1}),a(l,{type:"primary",onClick:ge},{default:n(()=>[a(h,null,{default:n(()=>[a(b(ae))]),_:1}),e[22]||(e[22]=E(" 下载图片 "))]),_:1}),d.value!==null?(u(),ee(l,{key:0,type:"primary",onClick:fe},{default:n(()=>[a(h,null,{default:n(()=>[a(b(te))]),_:1}),E(" 复制种子 ("+L(d.value)+") ",1)]),_:1})):B("",!0),d.value!==null?(u(),ee(l,{key:1,type:"primary",onClick:he},{default:n(()=>[a(h,null,{default:n(()=>[a(b(O))]),_:1}),e[23]||(e[23]=E(" 使用此种子重新生成 "))]),_:1})):B("",!0)])]),default:n(()=>[o("div",Aa,[o("img",{src:$.value,class:"preview-image",alt:"预览图片"},null,8,Ta)])]),_:1},8,["modelValue","title"])])}}}),Pa=oe($a,[["__scopeId","data-v-adb74436"]]),Fa={class:"ai-image-container"},Ha=le({__name:"AIImageView",setup(w){return(m,x)=>(u(),_("div",Fa,[a(Pa)]))}}),Wa=oe(Ha,[["__scopeId","data-v-8cd40b5c"]]);export{Wa as default};
