/* empty css                  *//* empty css                         */import{a as le,c as J,d as Q,e as re,f as ne,h as ie,i as de,j as ue,E as y,o as ce,r as Y,k as pe,l as me,m as ge,n as fe,s as be,p as ve,q as xe,t as he,u as we,v as ye,w as ee,x as _e,y as ke,z as Ce,A as te,B as oe,C as Ee,D as $e}from"./index-D49-rFT6.js";/* empty css                   */import{j as U,r as z,H as w,J as e,Y as o,R as r,V as k,W as _,X as K,ad as X,u as l,M as V,Q as L,T as B,L as Z,a2 as A,I as v,_ as O,aq as Ie,a as ze,a0 as je,b as Se}from"./vue-CjgK3QL3.js";import{_ as G}from"./vue-helper-DlAUqK2U.js";import"./pinia-BjCkHraf.js";import"./vue-router-7CHpTyhd.js";const R={baseURL:"https://api.siliconflow.cn/v1",apiKey:"sk-etybbrewlaafxjjqtlgfeqaaskzrmryfndjtjjecyixbsznw"};console.log("Image API Key configured:",!0);console.log("Image API Base URL:",R.baseURL);var S=(t=>(t.Square="1024x1024",t.Portrait="960x1280",t.Small="768x1024",t.Tall="720x1440",t.Medium="720x1280",t.Wide="1536x1024",t.Widescreen="2048x1152",t))(S||{});class Fe{async generateImage(d){try{const c={model:"Kwai-Kolors/Kolors",prompt:d.prompt,image_size:d.image_size,batch_size:d.batch_size,num_inference_steps:d.num_inference_steps,guidance_scale:d.guidance_scale};d.negative_prompt&&(c.negative_prompt=d.negative_prompt),d.seed!==void 0&&(c.seed=d.seed),d.image&&(c.image=d.image),console.log("Sending image generation request:",{...c,image:c.image?"[BASE64_DATA]":void 0}),R.apiKey;const h=await le.post(`${R.baseURL}/images/generations`,c,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${R.apiKey}`}});return console.log("Image generation response:",h.data),h.data}catch(c){throw console.error("Image generation error:",c.response?.data||c.message||c),new Error(c.response?.data?.error?.message||"图片生成服务出错了")}}async fileToBase64(d){return new Promise((c,h)=>{const i=new FileReader;i.readAsDataURL(d),i.onload=()=>c(i.result),i.onerror=s=>h(s)})}}const ae=new Fe,Be={Square:{value:S.Square,label:"1:1 方形",ratio:"1:1",ratioLabel:"1:1"},Portrait:{value:S.Portrait,label:"3:4 竖向",ratio:"3:4",ratioLabel:"3:4"},Small:{value:S.Small,label:"3:4 小尺寸",ratio:"3:4",ratioLabel:"3:4"},Tall:{value:S.Tall,label:"1:2 高竖版",ratio:"1:2",ratioLabel:"1:2"},Medium:{value:S.Medium,label:"9:16 中等",ratio:"9:16",ratioLabel:"9:16"},Wide:{value:S.Wide,label:"3:2 宽幅",ratio:"3:2",ratioLabel:"3:2"},Widescreen:{value:S.Widescreen,label:"16:9 宽屏",ratio:"16:9",ratioLabel:"16:9"}},H=[{label:"风景摄影",prompt:"一个美丽的自然风景，阳光透过云层，远处有连绵的山脉，前景是一片野花盛开的草地",negative_prompt:"模糊，过度曝光，人工痕迹",parameters:{guidance_scale:8.5,num_inference_steps:30}},{label:"人物肖像",prompt:"一张专业的人物肖像照片，自然光线，浅景深，柔和的背景虚化",negative_prompt:"变形，扭曲，不自然的姿势",parameters:{guidance_scale:7,num_inference_steps:25}},{label:"抽象艺术",prompt:"现代抽象艺术作品，充满活力的色彩，流动的形状，富有表现力的笔触",negative_prompt:"具象物体，照片级真实感",parameters:{guidance_scale:5.5,num_inference_steps:40}},{label:"城市夜景",prompt:"繁华都市的夜景，霓虹灯闪烁，高楼大厦，街道上的车流形成光线轨迹",negative_prompt:"模糊，过度曝光，不自然的光源",parameters:{guidance_scale:7,num_inference_steps:30}},{label:"美食摄影",prompt:"精致美食特写，完美的摆盘，柔和的自然光线，清晰的质感和细节",negative_prompt:"模糊，不自然的颜色，低质量",parameters:{guidance_scale:7.5,num_inference_steps:35}},{label:"科幻场景",prompt:"未来主义科幻场景，先进的技术，飞行器，全息投影，科技感的建筑",negative_prompt:"老旧，乡村，自然，原始",parameters:{guidance_scale:8,num_inference_steps:40}},{label:"水下世界",prompt:"梦幻的水下场景，五彩缤纷的珊瑚礁，热带鱼群，柔和的水下光线穿透水面",negative_prompt:"模糊，污染，黑暗",parameters:{guidance_scale:7.5,num_inference_steps:30}},{label:"卡通风格",prompt:"卡通风格的插图，明亮饱和的色彩，简洁的线条，可爱的角色设计",negative_prompt:"现实主义，照片级真实感，恐怖，暗黑",parameters:{guidance_scale:6,num_inference_steps:25}}],P={"network error":"网络连接错误，请检查您的网络连接",timeout:"请求超时，服务器可能繁忙，请稍后再试","server error":"服务器错误，请联系管理员",invalid_api_key:"API密钥无效，请检查您的设置",invalid_prompt:"提示词格式错误，请修改后重试",content_policy_violation:"提示词内容不符合使用政策，请修改后重试",20015:"推理步骤必须小于或等于50"},De={class:"sidebar-root flex flex-col w-full h-full shrink-0 bg-[var(--bg-color)] border-r border-[var(--border-color)] text-[var(--text-main)] font-sans box-border"},Te={class:"shrink-0 flex justify-between items-center px-5 py-4 border-b border-[var(--surface-color)] bg-white/80 backdrop-blur-sm z-10"},Me={class:"flex items-center gap-2 text-sm font-bold text-[var(--text-main)] tracking-wide"},Ve={class:"w-6 h-6 rounded-md bg-[#4E54C8]/10 flex items-center justify-center text-[var(--primary-color)]"},Ae={class:"flex-1 overflow-y-auto p-5 flex flex-col gap-6 custom-scrollbar w-full"},Le={class:"w-full"},Pe={class:"flex justify-between items-center mb-2"},Re={class:"flex items-center gap-0.5 text-xs font-medium text-[var(--primary-color)] cursor-pointer"},Ue={class:"w-full"},Ge={class:"mt-2 w-full"},qe={class:"flex items-center gap-1 text-[11px] text-[var(--text-secondary)]"},Ne={class:"space-y-3 w-full"},We={class:"flex items-center justify-between px-1"},Oe={class:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-1"},Ke={class:"text-[10px] font-mono font-medium text-[#4E54C8] bg-[#4E54C8]/5 px-1.5 py-0.5 rounded"},Xe={class:"grid grid-cols-3 gap-2.5"},Ze=["onClick"],He={class:"w-8 h-8 flex items-center justify-center"},Je={key:0,class:"absolute top-1 right-1 w-1.5 h-1.5 bg-[#4E54C8] rounded-full"},Qe={class:"w-full"},Ye={class:"flex flex-col gap-1.5 mb-4 w-full"},et={class:"flex justify-between text-xs text-[var(--text-secondary)]"},tt={class:"font-mono bg-white/80 px-1.5 py-0.5 rounded"},ot={class:"bg-[var(--surface-color)] rounded-xl p-4 flex flex-col gap-4 w-full box-border"},at={class:"flex flex-col gap-1.5"},st={class:"flex justify-between text-xs text-[var(--text-secondary)]"},lt={class:"font-mono bg-white/80 px-1.5 py-0.5 rounded font-semibold text-[var(--primary-color)]"},rt={class:"flex flex-col gap-1.5"},nt={class:"flex justify-between text-xs text-[var(--text-secondary)]"},it={class:"font-mono bg-white/80 px-1.5 py-0.5 rounded font-semibold text-[var(--primary-color)]"},dt={class:"w-full"},ut={key:0,class:"group relative w-full h-[100px] rounded-lg overflow-hidden border border-[var(--border-color)] box-border"},ct=["src"],pt={key:1,class:"w-full h-10 border border-dashed border-slate-300 rounded-lg flex items-center justify-center gap-2 text-xs text-[var(--text-secondary)] cursor-pointer transition-all duration-200 bg-[var(--surface-color)] hover:border-[var(--primary-color)] hover:text-[var(--primary-color)] hover:bg-[#4E54C8]/[0.02] box-border"},mt={class:"shrink-0 p-5 border-t border-[var(--border-color)] bg-white w-full box-border"},gt=["disabled"],ft={class:"relative z-[2] flex items-center justify-center gap-2"},bt=U({__name:"ImageGeneratorForm",props:{formData:{},loading:{type:Boolean}},emits:["generate","randomize-seed"],setup(t,{emit:d}){const c=t,h=z(""),i=z([]),s=n=>{c.formData.prompt=n.prompt,c.formData.negative_prompt=n.negative_prompt,n.parameters&&(c.formData.guidance_scale=n.parameters.guidance_scale,c.formData.num_inference_steps=n.parameters.num_inference_steps),y.success("已应用模板")},b=async n=>{const{file:a}=n;try{const m=await ae.fileToBase64(a);c.formData.image=m,h.value=m,y.success("参考图已加载")}catch{y.error("图片处理失败")}},C=n=>n.type.startsWith("image/")&&n.size/1024/1024<5,$=()=>{h.value="",c.formData.image=void 0},u=n=>{try{const[m,I]=n.split(":").map(Number);if(!m||!I)return{width:"20px",height:"20px"};let x,f;return m>I?(x=24,f=Math.round(I/m*24)):I>m?(f=24,x=Math.round(m/I*24)):(x=20,f=20),{width:`${x}px`,height:`${f}px`}}catch{return{width:"20px",height:"20px"}}};return(n,a)=>{const m=J,I=Q,x=ge,f=me,j=re,E=ne,D=fe,q=ie,T=de,N=ue;return v(),w("div",De,[e("div",Te,[e("div",Me,[e("div",Ve,[o(m,null,{default:r(()=>[o(l(ce))]),_:1})]),a[8]||(a[8]=e("span",null,"配置参数",-1))]),o(I,{content:"重置随机种子",placement:"bottom"},{default:r(()=>[e("button",{class:"p-1 rounded bg-transparent text-[var(--text-secondary)] border-none cursor-pointer transition-colors duration-200 hover:bg-[var(--surface-color)] hover:text-[var(--primary-color)]",onClick:a[0]||(a[0]=g=>n.$emit("randomize-seed"))},[o(m,null,{default:r(()=>[o(l(Y))]),_:1})])]),_:1})]),e("div",Ae,[e("section",Le,[e("div",Pe,[a[10]||(a[10]=e("label",{class:"text-xs font-semibold text-[var(--text-secondary)] uppercase tracking-[0.5px]"},"提示词 (PROMPT)",-1)),o(j,{trigger:"click",onCommand:s},{dropdown:r(()=>[o(f,null,{default:r(()=>[(v(!0),w(K,null,X(l(H),g=>(v(),L(x,{key:g.label,command:g},{default:r(()=>[k(_(g.label),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:r(()=>[e("span",Re,[a[9]||(a[9]=k(" 快速模板 ",-1)),o(m,null,{default:r(()=>[o(l(pe))]),_:1})])]),_:1})]),e("div",Ue,[o(E,{modelValue:t.formData.prompt,"onUpdate:modelValue":a[1]||(a[1]=g=>t.formData.prompt=g),type:"textarea",rows:5,resize:"none",placeholder:"描述您脑海中的画面...",class:"sidebar-textarea w-full"},null,8,["modelValue"])]),e("div",Ge,[o(q,{class:"sidebar-collapse w-full",modelValue:i.value,"onUpdate:modelValue":a[3]||(a[3]=g=>i.value=g)},{default:r(()=>[o(D,{name:"negative"},{title:r(()=>[e("div",qe,[o(m,null,{default:r(()=>[o(l(be))]),_:1}),a[11]||(a[11]=k(" 排除元素 (Negative) ",-1))])]),default:r(()=>[o(E,{modelValue:t.formData.negative_prompt,"onUpdate:modelValue":a[2]||(a[2]=g=>t.formData.negative_prompt=g),type:"textarea",rows:2,resize:"none",placeholder:"不需要出现的元素，如：模糊、低质量...",class:"sidebar-textarea sm-textarea w-full"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])]),a[19]||(a[19]=e("div",{class:"h-px w-full bg-[var(--surface-color)]"},null,-1)),e("section",Ne,[e("div",We,[e("label",Oe,[a[13]||(a[13]=k(" 画幅比例 ",-1)),o(I,{content:"决定生成图片的形状",placement:"top"},{default:r(()=>[...a[12]||(a[12]=[e("div",{class:"w-3.5 h-3.5 rounded-full border border-slate-300 flex items-center justify-center text-[8px] text-slate-400 cursor-help"},"?",-1)])]),_:1})]),e("span",Ke,_(t.formData.image_size||"1:1"),1)]),e("div",Xe,[(v(!0),w(K,null,X(l(Be),(g,p)=>(v(),w("button",{key:p,onClick:M=>t.formData.image_size=g.value,class:V(["group relative flex flex-col items-center justify-center gap-2 py-3 px-1 rounded-xl border transition-all duration-300",[t.formData.image_size===g.value?"bg-white border-[#4E54C8] shadow-md shadow-[#4E54C8]/10 ring-1 ring-[#4E54C8]/20":"bg-[#f8f9fc] border-transparent hover:bg-white hover:border-slate-200 hover:shadow-sm hover:-translate-y-0.5"]])},[e("div",He,[e("div",{class:V(["border-2 rounded-[2px] transition-all duration-300",[t.formData.image_size===g.value?"border-[#4E54C8] bg-[#4E54C8]/10":"border-slate-300 bg-white group-hover:border-[#8F94FB]"]]),style:Z(u(g.ratio))},null,6)]),e("span",{class:V(["text-[10px] font-medium transition-colors",t.formData.image_size===g.value?"text-[#4E54C8] font-bold":"text-slate-500 group-hover:text-slate-700"])},_(g.ratio),3),t.formData.image_size===g.value?(v(),w("div",Je)):B("",!0)],10,Ze))),128))])]),e("section",Qe,[e("div",Ye,[e("div",et,[a[14]||(a[14]=e("label",null,"生成数量",-1)),e("span",tt,_(t.formData.batch_size),1)]),o(T,{modelValue:t.formData.batch_size,"onUpdate:modelValue":a[4]||(a[4]=g=>t.formData.batch_size=g),min:1,max:4,step:1,size:"small","show-tooltip":!1,class:"custom-slider w-full"},null,8,["modelValue"])]),e("div",ot,[e("div",at,[e("div",st,[a[15]||(a[15]=e("label",null,"创造性 (CFG)",-1)),e("span",lt,_(t.formData.guidance_scale),1)]),o(T,{modelValue:t.formData.guidance_scale,"onUpdate:modelValue":a[5]||(a[5]=g=>t.formData.guidance_scale=g),min:1,max:20,step:.5,size:"small",class:"custom-slider w-full"},null,8,["modelValue"])]),e("div",rt,[e("div",nt,[a[16]||(a[16]=e("label",null,"细节步数 (Steps)",-1)),e("span",it,_(t.formData.num_inference_steps),1)]),o(T,{modelValue:t.formData.num_inference_steps,"onUpdate:modelValue":a[6]||(a[6]=g=>t.formData.num_inference_steps=g),min:10,max:50,step:1,size:"small",class:"custom-slider w-full"},null,8,["modelValue"])])])]),e("section",dt,[a[18]||(a[18]=e("label",{class:"text-xs font-semibold text-[var(--text-secondary)] uppercase tracking-[0.5px]"},"参考底图",-1)),o(N,{class:"sidebar-uploader mt-2 w-full block","show-file-list":!1,"before-upload":C,"http-request":b,action:"#"},{default:r(()=>[h.value?(v(),w("div",ut,[e("img",{src:h.value,class:"w-full h-full object-cover"},null,8,ct),e("div",{class:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 cursor-pointer text-white",onClick:A($,["stop"])},[o(m,null,{default:r(()=>[o(l(ve))]),_:1})])])):(v(),w("div",pt,[o(m,null,{default:r(()=>[o(l(xe))]),_:1}),a[17]||(a[17]=e("span",null,"上传图片",-1))]))]),_:1})])]),e("div",mt,[e("button",{onClick:a[7]||(a[7]=g=>n.$emit("generate")),disabled:!t.formData.prompt||t.loading,class:V(["relative w-full h-12 border-none rounded-3xl bg-gradient-to-br from-[var(--primary-color)] to-[var(--secondary-color)] text-white text-[15px] font-semibold cursor-pointer overflow-hidden transition-all duration-300 shadow-[0_4px_15px_rgba(78,84,200,0.3)] hover:-translate-y-0.5 hover:shadow-[0_6px_20px_rgba(78,84,200,0.4)] hover:brightness-105 disabled:opacity-70 disabled:cursor-not-allowed disabled:grayscale-[0.5]",{"is-loading":t.loading}])},[e("div",ft,[t.loading?(v(),L(m,{key:0,class:"animate-spin"},{default:r(()=>[o(l(he))]),_:1})):(v(),L(m,{key:1},{default:r(()=>[o(l(we))]),_:1})),e("span",null,_(t.loading?"正在绘制...":"立即生成"),1)]),e("div",{class:V(["absolute top-0 -left-full w-1/2 h-full bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-[20deg] animate-[glow-anim_3s_infinite]",{hidden:t.loading}])},null,2)],10,gt)])])}}}),vt=G(bt,[["__scopeId","data-v-8e3fd0b1"]]),xt={class:"relative w-full min-h-[600px] bg-white rounded-2xl shadow-xl shadow-slate-200/50 overflow-hidden font-sans text-slate-700 flex flex-col"},ht={key:0,class:"flex-1 flex flex-col items-center justify-center p-8 md:p-12"},wt={class:"max-w-4xl w-full flex flex-col items-center gap-10"},yt={class:"flex gap-4 pt-4"},_t={key:0,class:"absolute inset-0 z-20 flex items-center justify-center overflow-hidden bg-white/80 backdrop-blur-md"},kt={class:"relative w-full max-w-lg p-10 flex flex-col items-center"},Ct={class:"w-full relative"},Et={class:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2"},$t={class:"text-[#4E54C8]"},It={class:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden border border-slate-200"},zt={class:"mt-4 flex justify-center"},jt={class:"px-3 py-1 rounded-full bg-slate-50 border border-slate-200 text-[10px] text-slate-500 flex items-center gap-2"},St={key:0,class:"flex-1 flex flex-col bg-[#FDFDFE]"},Ft={class:"sticky top-0 z-10 bg-white/80 backdrop-blur-lg border-b border-slate-100 px-6 py-4 flex flex-col md:flex-row md:items-center justify-between gap-4 transition-all"},Bt={class:"flex items-center gap-3"},Dt={class:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#4E54C8] to-[#8F94FB] flex items-center justify-center text-white shadow-lg shadow-indigo-500/20"},Tt={class:"flex items-center gap-2 text-xs text-slate-500"},Mt={class:"flex gap-2"},Vt={class:"group flex items-center gap-1.5 px-3 py-1.5 bg-slate-50 hover:bg-white border border-slate-200 rounded-lg text-xs font-mono text-slate-600 transition-all hover:shadow-sm cursor-default"},At={class:"p-6 md:p-8 overflow-y-auto"},Lt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 md:gap-8"},Pt={class:"relative w-full rounded-2xl overflow-hidden bg-slate-100 shadow-sm transition-all duration-500 group-hover:shadow-[0_20px_40px_-15px_rgba(78,84,200,0.3)] group-hover:-translate-y-2 ring-1 ring-slate-900/5 group-hover:ring-[#4E54C8]/30"},Rt=["src","onClick"],Ut={class:"absolute top-0 left-0 w-full p-4 flex justify-between items-start opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10"},Gt={class:"px-2 py-1 rounded-md bg-black/40 backdrop-blur-md text-[10px] text-white font-mono border border-white/10"},qt=["onClick"],Nt={class:"absolute bottom-4 left-1/2 -translate-x-1/2 translate-y-10 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300 cubic-bezier(0.34, 1.56, 0.64, 1) z-10 w-auto"},Wt={class:"flex items-center gap-1 p-1.5 rounded-full bg-white/90 backdrop-blur-xl shadow-2xl border border-white/50 ring-1 ring-black/5"},Ot=["onClick"],Kt=U({__name:"ImageGeneratorResults",props:{generatedImages:{},loading:{type:Boolean},progress:{},estimatedTime:{},generationTime:{},lastSeed:{},imageSize:{}},emits:["show-preview","download-image","use-seed","regenerate","apply-random-template"],setup(t){const d=t,c=()=>{const s=d.imageSize.split("x");if(s.length===2){const b=parseInt(s[0]);return{paddingBottom:`${parseInt(s[1])/b*100}%`,height:"0"}}return{paddingBottom:"100%",height:"0"}},h=()=>{const i=document.querySelector(".atomic-input textarea");i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.focus())};return(i,s)=>{const b=J,C=Ie("Picture"),$=Q;return v(),w("div",xt,[o(O,{"enter-active-class":"transition duration-500 ease-out","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:r(()=>[!t.generatedImages.length&&!t.loading?(v(),w("div",ht,[e("div",wt,[s[6]||(s[6]=e("div",{class:"text-center space-y-4"},[e("div",{class:"inline-flex items-center px-3 py-1 rounded-full bg-[#4E54C8]/10 text-[#4E54C8] text-xs font-bold tracking-wider uppercase mb-2"}," AI Creative Engine "),e("h3",{class:"text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-[#4E54C8] to-[#8F94FB] tracking-tight"}," 释放您的无限想象 "),e("p",{class:"text-slate-500 text-lg md:text-xl font-light max-w-2xl mx-auto"}," 从文字到杰作，只需简单几步，让 AI 为您捕捉灵感的瞬间 ")],-1)),s[7]||(s[7]=e("div",{class:"relative w-full max-w-[400px] h-[360px] flex items-center justify-center select-none pointer-events-none"},[e("div",{class:"absolute inset-0 flex items-center justify-center"},[e("div",{class:"w-64 h-64 bg-[#4E54C8] rounded-full mix-blend-multiply filter blur-[80px] opacity-20 animate-pulse"}),e("div",{class:"absolute top-10 -right-10 w-64 h-64 bg-[#8F94FB] rounded-full mix-blend-multiply filter blur-[80px] opacity-20 animate-blob animation-delay-2000"}),e("div",{class:"absolute -bottom-10 -left-10 w-64 h-64 bg-indigo-300 rounded-full mix-blend-multiply filter blur-[80px] opacity-20 animate-blob animation-delay-4000"})]),e("div",{class:"absolute inset-0 flex items-center justify-center"},[e("div",{class:"w-[320px] h-[320px] border border-dashed border-slate-200 rounded-full animate-spin-slow opacity-60"}),e("div",{class:"absolute w-[240px] h-[240px] border border-slate-100 rounded-full animate-reverse-spin opacity-50"})]),e("div",{class:"relative z-10 w-32 h-32 flex items-center justify-center"},[e("div",{class:"absolute inset-0 bg-gradient-to-tr from-[#4E54C8] to-[#8F94FB] rounded-full shadow-2xl shadow-[#4E54C8]/40 animate-float"}),e("div",{class:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 rounded-full bg-cover"}),e("div",{class:"relative z-20 text-white text-4xl animate-pulse"},[e("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M2 17L12 22L22 17",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M2 12L12 17L22 12",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])])]),e("div",{class:"absolute top-10 left-10 z-20 animate-float-delayed-1"},[e("div",{class:"flex items-center gap-3 px-4 py-2 bg-white/60 backdrop-blur-md border border-white/50 rounded-2xl shadow-lg shadow-indigo-500/10"},[e("div",{class:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-[#4E54C8]"},[e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[e("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})])]),e("div",{class:"flex flex-col gap-1"},[e("div",{class:"w-12 h-2 bg-slate-300 rounded-full"}),e("div",{class:"w-8 h-2 bg-slate-200 rounded-full"})])])]),e("div",{class:"absolute top-1/2 -right-4 z-20 animate-float-delayed-2"},[e("div",{class:"p-2 bg-white/60 backdrop-blur-md border border-white/50 rounded-2xl shadow-lg shadow-purple-500/10 transform rotate-6"},[e("div",{class:"w-16 h-12 bg-gradient-to-br from-purple-100 to-indigo-50 rounded-lg flex items-center justify-center overflow-hidden"},[e("svg",{class:"text-indigo-300 w-8 h-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),e("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e("polyline",{points:"21 15 16 10 5 21"})])])])]),e("div",{class:"absolute bottom-12 left-16 z-20 animate-float-delayed-3"},[e("div",{class:"flex items-center justify-center w-12 h-12 bg-white/60 backdrop-blur-md border border-white/50 rounded-full shadow-lg shadow-blue-500/10"},[e("svg",{class:"text-[#8F94FB] w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"14.31",y1:"8",x2:"20.05",y2:"17.94"}),e("line",{x1:"9.69",y1:"8",x2:"21.17",y2:"8"}),e("line",{x1:"7.38",y1:"12",x2:"13.12",y2:"2.06"}),e("line",{x1:"9.69",y1:"16",x2:"3.95",y2:"6.06"}),e("line",{x1:"14.31",y1:"16",x2:"2.83",y2:"16"}),e("line",{x1:"16.62",y1:"12",x2:"10.88",y2:"21.94"})])])]),e("div",{class:"absolute top-20 right-20 w-3 h-3 bg-yellow-400 rounded-full animate-bounce"}),e("div",{class:"absolute bottom-20 left-10 w-2 h-2 bg-indigo-400 rounded-full animate-ping"}),e("div",{class:"absolute top-10 left-1/2 w-1.5 h-1.5 bg-purple-400 rounded-full"})],-1)),s[8]||(s[8]=e("div",{class:"relative z-10 w-full max-w-5xl mx-auto mt-8"},[e("div",{class:"hidden md:block absolute top-1/2 left-0 w-full h-0.5 border-t-2 border-dashed border-slate-200 -z-10 transform -translate-y-1/2"}),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-6"},[e("div",{class:"group relative bg-white rounded-2xl p-6 border border-slate-100 shadow-sm hover:shadow-2xl hover:shadow-[#4E54C8]/10 hover:border-[#4E54C8]/30 transition-all duration-500 overflow-hidden"},[e("div",{class:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#4E54C8] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e("div",{class:"absolute top-4 right-4 flex flex-col items-end opacity-30 group-hover:opacity-100 transition-opacity duration-300"},[e("span",{class:"text-[10px] font-mono font-bold text-[#4E54C8] tracking-widest"},"STEP.01"),e("div",{class:"w-8 h-0.5 bg-[#4E54C8] mt-1"})]),e("div",{class:"relative w-14 h-14 mb-6"},[e("div",{class:"absolute inset-0 bg-[#4E54C8]/5 rounded-xl rotate-3 group-hover:rotate-12 transition-transform duration-500"}),e("div",{class:"absolute inset-0 bg-white border border-slate-100 rounded-xl shadow-sm flex items-center justify-center text-[#4E54C8] group-hover:-translate-y-1 transition-transform duration-300"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})])])]),e("h4",{class:"text-lg font-bold text-slate-800 mb-2 group-hover:text-[#4E54C8] transition-colors"},"输入灵感"),e("p",{class:"text-sm text-slate-500 leading-relaxed"},"捕捉脑海中的瞬间。支持中英文描述，AI 将自动理解您的创意语境。"),e("div",{class:"absolute bottom-0 left-0 w-full h-1 bg-slate-50"},[e("div",{class:"h-full bg-[#4E54C8] w-0 group-hover:w-full transition-all duration-700 ease-out"})]),e("div",{class:"absolute bottom-3 left-3 text-slate-200"},[e("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor"},[e("rect",{x:"5",width:"2",height:"12"}),e("rect",{y:"5",width:"12",height:"2"})])])]),e("div",{class:"group relative bg-white rounded-2xl p-6 border border-slate-100 shadow-sm hover:shadow-2xl hover:shadow-[#8F94FB]/10 hover:border-[#8F94FB]/30 transition-all duration-500 overflow-hidden"},[e("div",{class:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#8F94FB] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e("div",{class:"absolute top-4 right-4 flex flex-col items-end opacity-30 group-hover:opacity-100 transition-opacity duration-300"},[e("span",{class:"text-[10px] font-mono font-bold text-[#8F94FB] tracking-widest"},"STEP.02"),e("div",{class:"w-8 h-0.5 bg-[#8F94FB] mt-1"})]),e("div",{class:"relative w-14 h-14 mb-6"},[e("div",{class:"absolute inset-0 bg-[#8F94FB]/5 rounded-xl rotate-3 group-hover:rotate-12 transition-transform duration-500"}),e("div",{class:"absolute inset-0 bg-white border border-slate-100 rounded-xl shadow-sm flex items-center justify-center text-[#8F94FB] group-hover:-translate-y-1 transition-transform duration-300"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"4",y1:"21",x2:"4",y2:"14"}),e("line",{x1:"4",y1:"10",x2:"4",y2:"3"}),e("line",{x1:"12",y1:"21",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"3"}),e("line",{x1:"20",y1:"21",x2:"20",y2:"16"}),e("line",{x1:"20",y1:"12",x2:"20",y2:"3"}),e("line",{x1:"1",y1:"14",x2:"7",y2:"14"}),e("line",{x1:"9",y1:"8",x2:"15",y2:"8"}),e("line",{x1:"17",y1:"16",x2:"23",y2:"16"})])])]),e("h4",{class:"text-lg font-bold text-slate-800 mb-2 group-hover:text-[#8F94FB] transition-colors"},"参数调优"),e("p",{class:"text-sm text-slate-500 leading-relaxed"},"通过左侧控制台，精准定义画幅比例、风格强度及生成数量。"),e("div",{class:"absolute bottom-0 left-0 w-full h-1 bg-slate-50"},[e("div",{class:"h-full bg-[#8F94FB] w-0 group-hover:w-full transition-all duration-700 ease-out delay-75"})]),e("div",{class:"absolute bottom-3 left-3 text-slate-200"},[e("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor"},[e("rect",{x:"5",width:"2",height:"12"}),e("rect",{y:"5",width:"12",height:"2"})])])]),e("div",{class:"group relative bg-white rounded-2xl p-6 border border-slate-100 shadow-sm hover:shadow-2xl hover:shadow-purple-500/10 hover:border-purple-400/30 transition-all duration-500 overflow-hidden"},[e("div",{class:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-purple-500 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e("div",{class:"absolute top-4 right-4 flex flex-col items-end opacity-30 group-hover:opacity-100 transition-opacity duration-300"},[e("span",{class:"text-[10px] font-mono font-bold text-purple-500 tracking-widest"},"STEP.03"),e("div",{class:"w-8 h-0.5 bg-purple-500 mt-1"})]),e("div",{class:"relative w-14 h-14 mb-6"},[e("div",{class:"absolute inset-0 bg-purple-500/5 rounded-xl rotate-3 group-hover:rotate-12 transition-transform duration-500"}),e("div",{class:"absolute inset-0 bg-white border border-slate-100 rounded-xl shadow-sm flex items-center justify-center text-purple-500 group-hover:-translate-y-1 transition-transform duration-300"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})])]),e("div",{class:"absolute -top-1 -right-1 w-2 h-2 bg-purple-400 rounded-full opacity-0 group-hover:opacity-100 animate-ping"})]),e("h4",{class:"text-lg font-bold text-slate-800 mb-2 group-hover:text-purple-500 transition-colors"},"一键生成"),e("p",{class:"text-sm text-slate-500 leading-relaxed"},"点击“开始创作”，见证算法将文字转化为像素的魔法时刻。"),e("div",{class:"absolute bottom-0 left-0 w-full h-1 bg-slate-50"},[e("div",{class:"h-full bg-purple-500 w-0 group-hover:w-full transition-all duration-700 ease-out delay-150"})]),e("div",{class:"absolute bottom-3 left-3 text-slate-200"},[e("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor"},[e("rect",{x:"5",width:"2",height:"12"}),e("rect",{y:"5",width:"12",height:"2"})])])])])],-1)),e("div",yt,[e("button",{onClick:s[0]||(s[0]=u=>i.$emit("apply-random-template")),class:"flex items-center gap-2 px-6 py-3 rounded-full bg-white border border-slate-200 text-slate-600 font-semibold hover:border-[#4E54C8] hover:text-[#4E54C8] hover:shadow-lg hover:shadow-[#4E54C8]/10 transition-all active:scale-95"},[o(b,null,{default:r(()=>[o(l(ye))]),_:1}),s[4]||(s[4]=k(" 试试随机灵感 ",-1))]),e("button",{onClick:h,class:"flex items-center gap-2 px-8 py-3 rounded-full bg-gradient-to-r from-[#4E54C8] to-[#8F94FB] text-white font-semibold shadow-lg shadow-[#4E54C8]/30 hover:shadow-[#4E54C8]/50 hover:-translate-y-0.5 transition-all active:scale-95"},[o(b,null,{default:r(()=>[o(l(ee))]),_:1}),s[5]||(s[5]=k(" 开始创作 ",-1))])])])])):B("",!0)]),_:1}),o(O,{"enter-active-class":"transition duration-500 ease-out","enter-from-class":"opacity-0 backdrop-blur-none","enter-to-class":"opacity-100 backdrop-blur-md","leave-active-class":"transition duration-300 ease-in","leave-from-class":"opacity-100 backdrop-blur-md","leave-to-class":"opacity-0 backdrop-blur-none"},{default:r(()=>[t.loading?(v(),w("div",_t,[s[13]||(s[13]=e("div",{class:"absolute inset-0 opacity-30 pointer-events-none"},[e("div",{class:"absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px]"}),e("div",{class:"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent"})],-1)),e("div",kt,[s[11]||(s[11]=e("div",{class:"relative w-32 h-32 mb-10 flex items-center justify-center"},[e("div",{class:"absolute inset-0 rounded-full border-2 border-dashed border-indigo-200 animate-[spin_10s_linear_infinite]"}),e("div",{class:"absolute inset-2 rounded-full border-t-2 border-r-2 border-[#4E54C8] animate-spin"}),e("div",{class:"absolute inset-8 bg-gradient-to-tr from-[#4E54C8] to-[#8F94FB] rounded-full shadow-[0_0_40px_rgba(78,84,200,0.6)] animate-pulse flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-white animate-bounce",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})])]),e("div",{class:"absolute -top-4 -right-4 text-xl animate-ping text-[#8F94FB]"},"✦"),e("div",{class:"absolute -bottom-2 -left-4 text-sm animate-ping delay-300 text-indigo-400"},"✶")],-1)),s[12]||(s[12]=e("div",{class:"text-center space-y-2 mb-8 relative z-10"},[e("h3",{class:"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-[#4E54C8] to-[#8F94FB] animate-pulse"}," 正在构建现实... "),e("p",{class:"text-sm font-mono text-slate-500"},"AI Neural Network Processing")],-1)),e("div",Ct,[e("div",Et,[s[9]||(s[9]=e("span",null,"Rendering",-1)),e("span",$t,_(t.progress)+"%",1)]),e("div",It,[e("div",{class:"h-full bg-gradient-to-r from-[#4E54C8] via-[#8F94FB] to-[#4E54C8] bg-[length:200%_100%] animate-[shimmer_2s_linear_infinite] transition-all duration-300 rounded-full shadow-[0_0_10px_rgba(78,84,200,0.5)]",style:Z({width:`${t.progress}%`})},null,4)]),e("div",zt,[e("div",jt,[s[10]||(s[10]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"},null,-1)),k(" 预计剩余: "+_(t.estimatedTime)+"秒 ",1)])])])])])):B("",!0)]),_:1}),o(O,{"enter-active-class":"transition duration-700 cubic-bezier(0.2, 0.8, 0.2, 1)","enter-from-class":"opacity-0 translate-y-8","enter-to-class":"opacity-100 translate-y-0"},{default:r(()=>[t.generatedImages.length>0?(v(),w("div",St,[e("div",Ft,[e("div",Bt,[e("div",Dt,[o(b,{class:"text-xl"},{default:r(()=>[o(C)]),_:1})]),e("div",null,[s[15]||(s[15]=e("h2",{class:"text-xl font-bold text-slate-800 leading-tight"},"创作完成",-1)),e("div",Tt,[s[14]||(s[14]=e("span",{class:"w-1.5 h-1.5 rounded-full bg-green-500"},null,-1)),k(" 成功生成 "+_(t.generatedImages.length)+" 张画作 ",1)])])]),e("div",Mt,[e("div",Vt,[o(b,{class:"text-slate-400 group-hover:text-[#4E54C8]"},{default:r(()=>[o(l(_e))]),_:1}),k(" "+_(t.generationTime)+"s ",1)]),e("div",{class:"group flex items-center gap-1.5 px-3 py-1.5 bg-slate-50 hover:bg-white border border-slate-200 rounded-lg text-xs font-mono text-slate-600 transition-all hover:shadow-sm cursor-pointer",onClick:s[1]||(s[1]=u=>i.$emit("use-seed")),title:"点击复制"},[o(b,{class:"text-slate-400 group-hover:text-[#4E54C8]"},{default:r(()=>[o(l(ke))]),_:1}),k(" "+_(t.lastSeed),1)])])]),e("div",At,[e("div",Lt,[(v(!0),w(K,null,X(t.generatedImages,(u,n)=>(v(),w("div",{key:n,class:"group relative flex flex-col"},[e("div",Pt,[e("div",{style:Z(c())},null,4),e("img",{src:u.url,alt:"AI Artwork",loading:"lazy",class:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onClick:a=>i.$emit("show-preview",u.url)},null,8,Rt),e("div",Ut,[e("div",Gt," IMG_00"+_(n+1),1),e("button",{class:"p-2 rounded-full bg-white/10 backdrop-blur-md hover:bg-white text-white hover:text-[#4E54C8] transition-all border border-white/20",onClick:A(a=>i.$emit("show-preview",u.url),["stop"])},[o(b,null,{default:r(()=>[o(l(Ce))]),_:1})],8,qt)]),e("div",Nt,[e("div",Wt,[o($,{content:"下载原图",placement:"top","hide-after":0,offset:12},{default:r(()=>[e("button",{class:"w-9 h-9 flex items-center justify-center rounded-full hover:bg-slate-100 text-slate-600 hover:text-[#4E54C8] transition-colors",onClick:A(a=>i.$emit("download-image",u.url,n),["stop"])},[o(b,{class:"text-lg"},{default:r(()=>[o(l(te))]),_:1})],8,Ot)]),_:2},1024),s[16]||(s[16]=e("div",{class:"w-px h-4 bg-slate-200 mx-0.5"},null,-1)),o($,{content:"复用种子",placement:"top","hide-after":0,offset:12},{default:r(()=>[e("button",{class:"w-9 h-9 flex items-center justify-center rounded-full hover:bg-slate-100 text-slate-600 hover:text-[#4E54C8] transition-colors",onClick:s[2]||(s[2]=A(a=>i.$emit("use-seed"),["stop"]))},[o(b,{class:"text-lg"},{default:r(()=>[o(l(oe))]),_:1})])]),_:1}),o($,{content:"重绘",placement:"top","hide-after":0,offset:12},{default:r(()=>[e("button",{class:"w-9 h-9 flex items-center justify-center rounded-full hover:bg-slate-100 text-slate-600 hover:text-[#4E54C8] transition-colors",onClick:s[3]||(s[3]=A(a=>i.$emit("regenerate"),["stop"]))},[o(b,{class:"text-lg"},{default:r(()=>[o(l(Y))]),_:1})])]),_:1})])]),s[17]||(s[17]=e("div",{class:"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"},null,-1))])]))),128))])])])):B("",!0)]),_:1})])}}}),Xt=G(Kt,[["__scopeId","data-v-b4d1d255"]]);function Zt(){const t=ze({prompt:"",negative_prompt:"",image_size:S.Square,batch_size:1,num_inference_steps:20,guidance_scale:7.5,seed:void 0,image:void 0}),d=z(!1),c=z([]),h=z(null),i=z(null),s=z(0),b=z(20);let C=null;const $=()=>{s.value=0,b.value=20,C=window.setInterval(()=>{if(s.value<99){const x=Math.floor(Math.random()*5)+1;s.value=Math.min(99,s.value+x);const f=100-s.value;b.value=Math.max(1,Math.round(f/5))}},800)},u=()=>{C!==null&&(clearInterval(C),C=null)},n=async()=>{if(console.log("Generating image with data:",JSON.stringify(t,null,2)),!t.prompt){y.warning("请输入提示词");return}t.num_inference_steps>50&&(t.num_inference_steps=50,y.warning("推理步骤已自动调整为最大值50")),d.value=!0,i.value=null,$();try{const x=Date.now(),f=await ae.generateImage({prompt:t.prompt,negative_prompt:t.negative_prompt||void 0,image_size:t.image_size,batch_size:t.batch_size,num_inference_steps:t.num_inference_steps,guidance_scale:t.guidance_scale,seed:t.seed,image:t.image}),j=Date.now();i.value=parseFloat(((j-x)/1e3).toFixed(1)),c.value=f.images,h.value=f.seed,s.value=100,y.success("图片生成成功")}catch(x){s.value=0;let f=x.message||"未知错误",j="";try{if(typeof f=="string"&&f.includes("{")){const E=JSON.parse(f.substring(f.indexOf("{")));j=E.code?.toString()||"",f=E.message||f}}catch(E){console.error("Error parsing error message:",E)}if(j&&P[j])y.error(P[j]);else{const E=Object.keys(P).find(D=>f.toLowerCase().includes(D.toLowerCase()));E?y.error(P[E]):y.error(`图片生成失败: ${f}`)}console.error("图片生成失败:",x)}finally{u(),setTimeout(()=>{d.value=!1},500)}};return{formData:t,loading:d,generatedImages:c,lastSeed:h,generationTime:i,progress:s,estimatedTime:b,generateImage:n,randomizeSeed:()=>{t.seed=Math.floor(Math.random()*1e9)},regenerateWithSeed:async x=>{x!==null&&(t.seed=x,await n())},cleanup:()=>{u()}}}function Ht(){const t=z(!1),d=z(""),c=z("");return{previewVisible:t,previewImage:d,previewTitle:c,showPreview:(u,n)=>{d.value=u,t.value=!0,c.value=`生成图片 (种子: ${n||"随机"})`},downloadImage:(u,n,a)=>{const m=document.createElement("a");m.href=u,m.download=`generated-image-${n||Date.now()}-${a}.png`,document.body.appendChild(m),m.click(),document.body.removeChild(m)},downloadCurrentPreview:u=>{if(!d.value)return;const n=document.createElement("a");n.href=d.value,n.download=`generated-image-${u||Date.now()}.png`,document.body.appendChild(n),n.click(),document.body.removeChild(n),y.success("图片下载已开始")},copySeedToClipboard:async u=>{if(u!==null)try{await navigator.clipboard.writeText(u.toString()),y.success(`已复制种子(${u})到剪贴板`)}catch{const a=document.createElement("textarea");a.value=u.toString(),document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),y.success(`已复制种子(${u})到剪贴板`)}},useSeed:(u,n)=>{u!==null&&(n.seed=u,y.success(`已设置种子: ${u}`))},useCurrentSeedAndClose:(u,n)=>{u!==null&&(n.seed=u,y.success(`已设置种子: ${u}`),t.value=!1)}}}const Jt={class:"image-gen-view"},Qt={class:"content-container"},Yt={class:"flex"},eo=["src"],to={class:"preview-actions"},oo=U({__name:"AIImageGenerator",setup(t){const{formData:d,loading:c,generatedImages:h,lastSeed:i,generationTime:s,progress:b,estimatedTime:C,generateImage:$,randomizeSeed:u,regenerateWithSeed:n,cleanup:a}=Zt(),{previewVisible:m,previewImage:I,previewTitle:x,showPreview:f,downloadImage:j,downloadCurrentPreview:E,copySeedToClipboard:D,useSeed:q,useCurrentSeedAndClose:T}=Ht(),N=()=>{const g=Math.floor(Math.random()*H.length),p=H[g];d.prompt=p.prompt,d.negative_prompt=p.negative_prompt,p.parameters&&(d.guidance_scale=p.parameters.guidance_scale,d.num_inference_steps=p.parameters.num_inference_steps),y.success("已应用模板")};return je(()=>{a()}),(g,p)=>{const M=$e,W=J,se=Ee;return v(),w("div",Jt,[p[11]||(p[11]=e("div",{class:"page-header"},[e("h1",null,"AIVista Image Studio"),e("p",{class:"subtitle"},"使用人工智能创建高质量图片 - AI Image Generation")],-1)),e("div",Qt,[o(vt,{"form-data":l(d),loading:l(c),onGenerate:l($),onRandomizeSeed:l(u)},null,8,["form-data","loading","onGenerate","onRandomizeSeed"]),o(Xt,{"generated-images":l(h),loading:l(c),progress:l(b),"estimated-time":l(C),"generation-time":l(s),"last-seed":l(i),"image-size":l(d).image_size,onShowPreview:p[0]||(p[0]=F=>l(f)(F,l(i))),onDownloadImage:l(j),onUseSeed:p[1]||(p[1]=()=>l(q)(l(i),l(d))),onRegenerate:p[2]||(p[2]=()=>l(n)(l(i))),onApplyRandomTemplate:N},null,8,["generated-images","loading","progress","estimated-time","generation-time","last-seed","image-size","onDownloadImage"])]),o(se,{modelValue:l(m),"onUpdate:modelValue":p[7]||(p[7]=F=>Se(m)?m.value=F:null),title:l(x),class:"preview-dialog","append-to-body":!0},{footer:r(()=>[e("div",to,[o(M,{onClick:p[3]||(p[3]=F=>m.value=!1)},{default:r(()=>[...p[8]||(p[8]=[k("关闭",-1)])]),_:1}),o(M,{type:"primary",onClick:p[4]||(p[4]=F=>l(E)(l(i)))},{default:r(()=>[o(W,null,{default:r(()=>[o(l(te))]),_:1}),p[9]||(p[9]=k(" 下载图片 ",-1))]),_:1}),l(i)!==null?(v(),L(M,{key:0,type:"primary",onClick:p[5]||(p[5]=F=>l(D)(l(i)))},{default:r(()=>[o(W,null,{default:r(()=>[o(l(oe))]),_:1}),k(" 复制种子 ("+_(l(i))+") ",1)]),_:1})):B("",!0),l(i)!==null?(v(),L(M,{key:1,type:"primary",onClick:p[6]||(p[6]=F=>l(T)(l(i),l(d)))},{default:r(()=>[o(W,null,{default:r(()=>[o(l(ee))]),_:1}),p[10]||(p[10]=k(" 使用此种子重新生成 ",-1))]),_:1})):B("",!0)])]),default:r(()=>[e("div",Yt,[e("img",{src:l(I),class:"preview-image",alt:"预览图片"},null,8,eo)])]),_:1},8,["modelValue","title"])])}}}),ao=G(oo,[["__scopeId","data-v-8b7cf111"]]),so={class:"ai-image-container"},lo=U({__name:"AIImageView",setup(t){return(d,c)=>(v(),w("div",so,[o(ao)]))}}),fo=G(lo,[["__scopeId","data-v-8cd40b5c"]]);export{fo as default};
