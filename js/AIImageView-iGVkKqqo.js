import{j as le,a as Le,r as k,a0 as Me,B as Ve,w as Ie,H as f,J as o,Y as t,R as n,T as B,az as Ee,L as Y,W as L,X as q,ae as N,V as E,a2 as ze,u as w,Q as ee,I as p}from"./vue-BJlp2Mwx.js";import{a as Be,E as Se,b as Ae,c as Te,d as Ue,e as $e,f as Pe,h as Fe,i as He,j as De,k as je,l as Re,m as qe,p as Ne,s as Ge,n as O,o as We,z as Ze,q as te,r as ae,t as u}from"./index-C94acFGs.js";import{_ as oe}from"./vue-helper-DlAUqK2U.js";import"./pinia-BGq-fEY2.js";import"./vue-router-BWhT9PyQ.js";const G={baseURL:"https://api.siliconflow.cn/v1",apiKey:"sk-etybbrewlaafxjjqtlgfeqaaskzrmryfndjtjjecyixbsznw"};console.log("Image API Key configured:",!0);console.log("Image API Base URL:",G.baseURL);var M=(y=>(y.Square="1024x1024",y.Portrait="960x1280",y.Small="768x1024",y.Tall="720x1440",y.Medium="720x1280",y.Wide="1536x1024",y.Widescreen="2048x1152",y))(M||{});class Oe{async generateImage(m){var x,V,s,_;try{const v={model:"Kwai-Kolors/Kolors",prompt:m.prompt,image_size:m.image_size,batch_size:m.batch_size,num_inference_steps:m.num_inference_steps,guidance_scale:m.guidance_scale};m.negative_prompt&&(v.negative_prompt=m.negative_prompt),m.seed!==void 0&&(v.seed=m.seed),m.image&&(v.image=m.image),console.log("Sending image generation request:",{...v,image:v.image?"[BASE64_DATA]":void 0}),G.apiKey;const z=await Be.post(`${G.baseURL}/images/generations`,v,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${G.apiKey}`}});return console.log("Image generation response:",z.data),z.data}catch(v){throw console.error("Image generation error:",((x=v.response)==null?void 0:x.data)||v.message||v),new Error(((_=(s=(V=v.response)==null?void 0:V.data)==null?void 0:s.error)==null?void 0:_.message)||"图片生成服务出错了")}}async fileToBase64(m){return new Promise((x,V)=>{const s=new FileReader;s.readAsDataURL(m),s.onload=()=>x(s.result),s.onerror=_=>V(_)})}}const se=new Oe,Ke={class:"image-gen-view"},Je={class:"content-container"},Qe={class:"form-container"},Xe={class:"form-card"},Ye={class:"templates-section"},et={class:"template-grid"},tt={class:"form-card"},at={class:"card-header"},st={class:"presets-section"},lt={class:"size-option-content"},ot={class:"size-icon",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt=["x","y","width","height"],it={class:"size-label"},rt={class:"parameter-grid"},dt={class:"seed-input-group"},ct={class:"form-card"},ut={key:0,class:"image-preview"},pt=["src"],mt={key:1,class:"upload-placeholder"},vt={class:"generate-button-container"},ft={class:"results-container"},_t={key:0,class:"empty-state"},gt={class:"empty-state-content"},ht={class:"empty-actions"},wt={key:1,class:"loading-state"},yt={class:"loading-content"},kt={class:"progress-container"},bt={class:"progress-percentage"},xt={key:2,class:"generated-images"},Ct={class:"results-header"},Lt={class:"generation-info"},Mt={key:0},Vt={key:1},It={class:"image-grid"},Et=["src","onClick"],zt={class:"image-overlay"},Bt={class:"image-actions"},St={class:"action-buttons"},At={class:"flex"},Tt=["src"],Ut={class:"preview-actions"},$t=le({__name:"AIImageGenerator",setup(y){const m={Square:{value:M.Square,label:"1:1 方形",ratio:"1:1",ratioLabel:"1:1"},Portrait:{value:M.Portrait,label:"3:4 竖向",ratio:"3:4",ratioLabel:"3:4"},Small:{value:M.Small,label:"3:4 小尺寸",ratio:"3:4",ratioLabel:"3:4"},Tall:{value:M.Tall,label:"1:2 高竖版",ratio:"1:2",ratioLabel:"1:2"},Medium:{value:M.Medium,label:"9:16 中等",ratio:"9:16",ratioLabel:"9:16"},Wide:{value:M.Wide,label:"3:2 宽幅",ratio:"3:2",ratioLabel:"3:2"},Widescreen:{value:M.Widescreen,label:"16:9 宽屏",ratio:"16:9",ratioLabel:"16:9"}},x=[{label:"风景摄影",prompt:"一个美丽的自然风景，阳光透过云层，远处有连绵的山脉，前景是一片野花盛开的草地",negative_prompt:"模糊，过度曝光，人工痕迹",parameters:{guidance_scale:8.5,num_inference_steps:30}},{label:"人物肖像",prompt:"一张专业的人物肖像照片，自然光线，浅景深，柔和的背景虚化",negative_prompt:"变形，扭曲，不自然的姿势",parameters:{guidance_scale:7,num_inference_steps:25}},{label:"抽象艺术",prompt:"现代抽象艺术作品，充满活力的色彩，流动的形状，富有表现力的笔触",negative_prompt:"具象物体，照片级真实感",parameters:{guidance_scale:5.5,num_inference_steps:40}},{label:"城市夜景",prompt:"繁华都市的夜景，霓虹灯闪烁，高楼大厦，街道上的车流形成光线轨迹",negative_prompt:"模糊，过度曝光，不自然的光源",parameters:{guidance_scale:7,num_inference_steps:30}},{label:"美食摄影",prompt:"精致美食特写，完美的摆盘，柔和的自然光线，清晰的质感和细节",negative_prompt:"模糊，不自然的颜色，低质量",parameters:{guidance_scale:7.5,num_inference_steps:35}},{label:"科幻场景",prompt:"未来主义科幻场景，先进的技术，飞行器，全息投影，科技感的建筑",negative_prompt:"老旧，乡村，自然，原始",parameters:{guidance_scale:8,num_inference_steps:40}},{label:"水下世界",prompt:"梦幻的水下场景，五彩缤纷的珊瑚礁，热带鱼群，柔和的水下光线穿透水面",negative_prompt:"模糊，污染，黑暗",parameters:{guidance_scale:7.5,num_inference_steps:30}},{label:"卡通风格",prompt:"卡通风格的插图，明亮饱和的色彩，简洁的线条，可爱的角色设计",negative_prompt:"现实主义，照片级真实感，恐怖，暗黑",parameters:{guidance_scale:6,num_inference_steps:25}}],V=[{label:"快速生成",value:{num_inference_steps:20,guidance_scale:7}},{label:"标准质量",value:{num_inference_steps:30,guidance_scale:7.5}},{label:"高质量",value:{num_inference_steps:50,guidance_scale:8}}],s=Le({prompt:"",negative_prompt:"",image_size:M.Square,batch_size:1,num_inference_steps:20,guidance_scale:7.5,seed:void 0,image:void 0}),_=k(!1),v=k(""),z=k([]),d=k(null),U=k(null),C=k(0),W=k(20);let S=null;const T=k(!1),$=k(""),K=k(""),P=k(null),F={"network error":"网络连接错误，请检查您的网络连接",timeout:"请求超时，服务器可能繁忙，请稍后再试","server error":"服务器错误，请联系管理员",invalid_api_key:"API密钥无效，请检查您的设置",invalid_prompt:"提示词格式错误，请修改后重试",content_policy_violation:"提示词内容不符合使用政策，请修改后重试",20015:"推理步骤必须小于或等于50"},ne=()=>{s.seed=Math.floor(Math.random()*1e9)},ie=async a=>{const{file:e}=a;try{const l=await se.fileToBase64(e);s.image=l,v.value=l,u.success("参考图片上传成功")}catch(l){u.error("图片处理失败"),console.error("图片处理错误:",l)}},re=a=>{const e=a.type.startsWith("image/"),l=a.size/1024/1024<5;return e?l?!0:(u.error("图片大小不能超过 5MB!"),!1):(u.error("只能上传图片文件!"),!1)},de=()=>{v.value="",s.image=void 0},J=async()=>{var a;if(console.log("Generating image with data:",JSON.stringify(s,null,2)),!s.prompt){u.warning("请输入提示词");return}s.num_inference_steps>50&&(s.num_inference_steps=50,u.warning("推理步骤已自动调整为最大值50")),_.value=!0,U.value=null,ce();try{const e=Date.now(),l=await se.generateImage({prompt:s.prompt,negative_prompt:s.negative_prompt||void 0,image_size:s.image_size,batch_size:s.batch_size,num_inference_steps:s.num_inference_steps,guidance_scale:s.guidance_scale,seed:s.seed,image:s.image}),c=Date.now();U.value=parseFloat(((c-e)/1e3).toFixed(1)),z.value=l.images,d.value=l.seed,C.value=100,u.success("图片生成成功")}catch(e){C.value=0;let l=e.message||"未知错误",c="";try{if(typeof l=="string"&&l.includes("{")){const r=JSON.parse(l.substring(l.indexOf("{")));c=((a=r.code)==null?void 0:a.toString())||"",l=r.message||l}}catch(r){console.error("Error parsing error message:",r)}if(c&&F[c])u.error(F[c]);else{const r=Object.keys(F).find(A=>l.toLowerCase().includes(A.toLowerCase()));r?u.error(F[r]):u.error(`图片生成失败: ${l}`)}console.error("图片生成失败:",e)}finally{S!==null&&(clearInterval(S),S=null),setTimeout(()=>{_.value=!1},500)}},ce=()=>{C.value=0,W.value=20,S=window.setInterval(()=>{if(C.value<99){const a=Math.floor(Math.random()*5)+1;C.value=Math.min(99,C.value+a);const e=100-C.value;W.value=Math.max(1,Math.round(e/5))}},800)};Me(()=>{S!==null&&clearInterval(S)});const ue=(a,e)=>{const l=document.createElement("a");l.href=a,l.download=`generated-image-${d.value||Date.now()}-${e}.png`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},pe=a=>{a!==null&&(s.seed=a,u.success(`已设置种子: ${a}`))},Q=a=>{s.prompt=a.prompt,s.negative_prompt=a.negative_prompt,a.parameters&&(s.guidance_scale=a.parameters.guidance_scale,s.num_inference_steps=a.parameters.num_inference_steps),Z(),u.success("已应用模板")},me=a=>{s.num_inference_steps=a.value.num_inference_steps,s.guidance_scale=a.value.guidance_scale,P.value=a.label,u.success("已应用参数预设")},ve=a=>{if(typeof a=="string"){const e=V.find(l=>l.label===a);e&&me(e)}},Z=()=>{const a=s.num_inference_steps,e=s.guidance_scale,l=V.find(c=>c.value.num_inference_steps===a&&c.value.guidance_scale===e);P.value=l?l.label:null},X=a=>{$.value=a,T.value=!0,K.value=`生成图片 (种子: ${d.value||"随机"})`},H=(a,e,l)=>{switch(a){case"preview":X(e);break;case"download":ue(e,l);break;case"use-seed":pe(d.value);break;case"regenerate":fe(d.value);break}},fe=async a=>{a!==null&&(s.seed=a,await J())},_e=()=>{if(!$.value)return;const a=document.createElement("a");a.href=$.value,a.download=`generated-image-${d.value||Date.now()}.png`,document.body.appendChild(a),a.click(),document.body.removeChild(a),u.success("图片下载已开始")},ge=async()=>{if(d.value!==null)try{await navigator.clipboard.writeText(d.value.toString()),u.success(`已复制种子(${d.value})到剪贴板`)}catch{const e=document.createElement("textarea");e.value=d.value.toString(),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),u.success(`已复制种子(${d.value})到剪贴板`)}},he=()=>{d.value!==null&&(s.seed=d.value,u.success(`已设置种子: ${d.value}`),T.value=!1)},we=()=>{const e=s.image_size.split("x");if(e.length===2){const l=parseInt(e[0]);return{paddingBottom:`${parseInt(e[1])/l*100}%`,height:"0"}}return{paddingBottom:"100%",height:"0"}},ye=()=>{const a=Math.floor(Math.random()*x.length);Q(x[a])},ke=()=>{const a=document.querySelector(".generation-form");a&&a.scrollIntoView({behavior:"smooth",block:"start"})},D=a=>{let c=18,r=18;try{const[b,g]=a.split(":").map(Number);b&&g&&(b>g?(c=18,r=18*g/b):(r=18,c=18*b/g))}catch(b){console.error("Error parsing ratio:",a,b)}const A=(24-c)/2,j=(24-r)/2;return{x:A,y:j,width:c,height:r}};return Ve(()=>{Z()}),Ie([()=>s.num_inference_steps,()=>s.guidance_scale],()=>{Z()}),(a,e)=>{const l=Ae,c=Pe,r=$e,A=He,j=Fe,b=De,g=je,h=Te,be=Re,xe=Se,Ce=Ue;return p(),f("div",Ke,[e[24]||(e[24]=o("div",{class:"page-header"},[o("h1",null,"AIVista Image Studio"),o("p",{class:"subtitle"},"使用人工智能创建高质量图片 - AI Image Generation")],-1)),o("div",Je,[o("div",Qe,[t(xe,{model:s,"label-position":"top",class:"generation-form"},{default:n(()=>[o("div",Xe,[o("div",Ye,[e[10]||(e[10]=o("h3",null,"快速模板",-1)),o("div",et,[(p(),f(q,null,N(x,i=>t(l,{key:i.label,size:"small",onClick:I=>Q(i)},{default:n(()=>[E(L(i.label),1)]),_:2},1032,["onClick"])),64))])]),t(r,{label:"提示词 (Prompt)"},{default:n(()=>[t(c,{modelValue:s.prompt,"onUpdate:modelValue":e[0]||(e[0]=i=>s.prompt=i),type:"textarea",rows:4,placeholder:"描述你想要生成的图片内容..."},null,8,["modelValue"])]),_:1}),t(r,{label:"负面提示词 (Negative Prompt)"},{default:n(()=>[t(c,{modelValue:s.negative_prompt,"onUpdate:modelValue":e[1]||(e[1]=i=>s.negative_prompt=i),type:"textarea",rows:2,placeholder:"描述你不希望出现在图片中的内容..."},null,8,["modelValue"])]),_:1})]),o("div",tt,[o("div",at,[e[12]||(e[12]=o("h3",null,"图片参数",-1)),o("div",st,[e[11]||(e[11]=o("span",{class:"preset-title"},"快速预设:",-1)),t(j,{modelValue:P.value,"onUpdate:modelValue":e[2]||(e[2]=i=>P.value=i),onChange:ve,size:"small",class:"preset-radio-group"},{default:n(()=>[(p(),f(q,null,N(V,i=>t(A,{key:i.label,value:i.label},{default:n(()=>[E(L(i.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])])]),t(r,{label:"图片尺寸"},{default:n(()=>[t(j,{modelValue:s.image_size,"onUpdate:modelValue":e[3]||(e[3]=i=>s.image_size=i),class:"size-selector"},{default:n(()=>[(p(),f(q,null,N(m,(i,I)=>t(A,{key:I,value:i.value,class:"size-radio-button"},{default:n(()=>[o("div",lt,[(p(),f("svg",ot,[o("rect",{x:D(i.ratio).x,y:D(i.ratio).y,width:D(i.ratio).width,height:D(i.ratio).height,rx:"1",class:"svg-rect"},null,8,nt)])),o("span",it,L(i.ratioLabel||i.label),1)])]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),o("div",rt,[t(r,{label:"生成数量"},{default:n(()=>[t(b,{modelValue:s.batch_size,"onUpdate:modelValue":e[4]||(e[4]=i=>s.batch_size=i),min:1,max:4,step:1,marks:{1:"1",2:"2",3:"3",4:"4"},"show-stops":""},null,8,["modelValue"])]),_:1}),t(r,{label:"创造性 (引导系数)"},{default:n(()=>[t(g,{content:"较低的值会产生更有创意但不太准确的结果，较高的值会使生成更忠于提示词但创意性较低",placement:"top"},{default:n(()=>[t(b,{modelValue:s.guidance_scale,"onUpdate:modelValue":e[5]||(e[5]=i=>s.guidance_scale=i),min:1,max:20,step:.5,marks:{1:"高创造性",10:"平衡",20:"高精确性"}},null,8,["modelValue"])]),_:1})]),_:1}),t(r,{label:"细节程度 (推理步骤)"},{default:n(()=>[t(g,{content:"更高的值会产生更细致的图像，但需要更长时间生成。最大值为50。",placement:"top"},{default:n(()=>[t(b,{modelValue:s.num_inference_steps,"onUpdate:modelValue":e[6]||(e[6]=i=>s.num_inference_steps=i),min:1,max:50,step:1,marks:{1:"低",20:"中",50:"高"}},null,8,["modelValue"])]),_:1})]),_:1})]),t(r,{label:"随机种子 (可选)"},{default:n(()=>[t(g,{content:"使用相同种子可以在其他参数相同时获得相似结果",placement:"top"},{default:n(()=>[o("div",dt,[t(c,{modelValue:s.seed,"onUpdate:modelValue":e[7]||(e[7]=i=>s.seed=i),modelModifiers:{number:!0},type:"number",placeholder:"输入种子或留空随机生成"},null,8,["modelValue"]),t(l,{onClick:ne},{default:n(()=>e[13]||(e[13]=[E("随机")])),_:1})])]),_:1})]),_:1})]),o("div",ct,[e[16]||(e[16]=o("h3",null,"参考图片",-1)),t(r,null,{default:n(()=>[t(be,{class:"image-uploader","show-file-list":!1,"before-upload":re,"auto-upload":!0,"http-request":ie,action:"#"},{default:n(()=>[v.value?(p(),f("div",ut,[o("img",{src:v.value,class:"uploaded-image"},null,8,pt),o("div",{class:"remove-image",onClick:ze(de,["stop"])},[t(h,null,{default:n(()=>[t(w(qe))]),_:1})])])):(p(),f("div",mt,[t(h,{class:"upload-icon"},{default:n(()=>[t(w(Ne))]),_:1}),e[14]||(e[14]=o("div",{class:"upload-text"},"点击上传参考图片",-1))]))]),_:1}),e[15]||(e[15]=o("div",{class:"upload-tip"},"上传图片后，AI将生成与参考图片风格相似的图像",-1))]),_:1})]),o("div",vt,[t(l,{type:"primary",class:"generate-button",onClick:J,loading:_.value,disabled:!s.prompt||_.value},{default:n(()=>[E(L(_.value?"生成中...":"生成图片"),1)]),_:1},8,["loading","disabled"])])]),_:1},8,["model"])]),o("div",ft,[!z.value.length&&!_.value?(p(),f("div",_t,[o("div",gt,[e[19]||(e[19]=Ee('<div class="empty-header" data-v-6347ce9f><div class="empty-title-container" data-v-6347ce9f><span class="empty-badge" data-v-6347ce9f>AI 驱动</span><h3 class="empty-title" data-v-6347ce9f>开始创建您的专属AI艺术</h3><p class="empty-subtitle" data-v-6347ce9f>只需简单几步，轻松生成高品质图像</p></div><div class="decoration-container" data-v-6347ce9f><svg width="180" height="180" viewBox="0 0 480 480" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-6347ce9f><circle cx="240" cy="240" r="220" fill="url(#paint0_radial)" fill-opacity="0.15" data-v-6347ce9f></circle><path d="M175 170C175 162.268 181.268 156 189 156H291C298.732 156 305 162.268 305 170V310C305 317.732 298.732 324 291 324H189C181.268 324 175 317.732 175 310V170Z" fill="white" stroke="#4E54C8" stroke-width="3" data-v-6347ce9f></path><path d="M200 190H280" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-6347ce9f></path><path d="M200 210H260" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-6347ce9f></path><path d="M200 230H240" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-6347ce9f></path><circle cx="230" cy="270" r="30" fill="#8F94FB" fill-opacity="0.5" data-v-6347ce9f></circle><path d="M240 140V100" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-6347ce9f></path><path d="M290 150L320 120" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-6347ce9f></path><path d="M190 150L160 120" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-6347ce9f></path><path d="M340 240H380" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-6347ce9f></path><path d="M100 240H140" stroke="#4E54C8" stroke-width="3" stroke-linecap="round" data-v-6347ce9f></path><circle cx="360" cy="180" r="25" fill="#8F94FB" fill-opacity="0.4" data-v-6347ce9f></circle><circle cx="120" cy="300" r="30" fill="#8F94FB" fill-opacity="0.3" data-v-6347ce9f></circle><circle cx="320" cy="340" r="20" fill="#8F94FB" fill-opacity="0.5" data-v-6347ce9f></circle><defs data-v-6347ce9f><radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(240 240) rotate(90) scale(220)" data-v-6347ce9f><stop stop-color="#4E54C8" data-v-6347ce9f></stop><stop offset="1" stop-color="#8F94FB" stop-opacity="0" data-v-6347ce9f></stop></radialGradient></defs></svg></div></div><div class="steps-container" data-v-6347ce9f><div class="step-card" data-v-6347ce9f><div class="step-header" data-v-6347ce9f><div class="step-number" data-v-6347ce9f>1</div><h4 data-v-6347ce9f>填写提示词</h4></div><div class="step-icon" data-v-6347ce9f><svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-6347ce9f><path d="M3.5 18.5L4 18L14 8L16 10L6 20L5.5 20.5H3.5V18.5Z" fill="#e6e9ff" data-v-6347ce9f></path><path d="M14 8L14.75 7.25L16.75 9.25L16 10L14 8Z" fill="#c6c9f8" data-v-6347ce9f></path><path d="M14.75 7.25L15.5 6.5L17.5 8.5L16.75 9.25L14.75 7.25Z" fill="#a6a9e8" data-v-6347ce9f></path><path d="M15.5 6.5L16.25 5.75L18.25 7.75L17.5 8.5L15.5 6.5Z" fill="#8689d8" data-v-6347ce9f></path><path d="M16.25 5.75L17 5L19 7L18.25 7.75L16.25 5.75Z" fill="#6669c8" data-v-6347ce9f></path><path d="M3.5 18.5V20.5H5.5L16 10L14 8L3.5 18.5ZM17 5L19 7L10 16L6 20H3V17L13 7L17 5Z" stroke="#4E54C8" stroke-width="1.5" stroke-linejoin="round" data-v-6347ce9f></path></svg></div><p class="step-description" data-v-6347ce9f>描述您想要创建的图像内容，或使用内置模板快速开始创作</p></div><div class="step-arrow" data-v-6347ce9f><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-6347ce9f><path d="M5 12H19M19 12L13 6M19 12L13 18" stroke="#a6a9e8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-6347ce9f></path></svg></div><div class="step-card" data-v-6347ce9f><div class="step-header" data-v-6347ce9f><div class="step-number" data-v-6347ce9f>2</div><h4 data-v-6347ce9f>选择参数</h4></div><div class="step-icon" data-v-6347ce9f><svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-6347ce9f><rect x="3" y="5" width="18" height="14" rx="2" fill="#e6e9ff" stroke="#4E54C8" stroke-width="1.5" data-v-6347ce9f></rect><path d="M7 10L10 13L7 16" stroke="#4E54C8" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-v-6347ce9f></path><path d="M13 16H17" stroke="#4E54C8" stroke-width="1.5" stroke-linecap="round" data-v-6347ce9f></path><path d="M13 12H17" stroke="#4E54C8" stroke-width="1.5" stroke-linecap="round" data-v-6347ce9f></path><path d="M13 8H17" stroke="#4E54C8" stroke-width="1.5" stroke-linecap="round" data-v-6347ce9f></path></svg></div><p class="step-description" data-v-6347ce9f>调整尺寸、细节程度和创造性等参数以获得理想效果</p></div><div class="step-arrow" data-v-6347ce9f><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-6347ce9f><path d="M5 12H19M19 12L13 6M19 12L13 18" stroke="#a6a9e8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-6347ce9f></path></svg></div><div class="step-card" data-v-6347ce9f><div class="step-header" data-v-6347ce9f><div class="step-number" data-v-6347ce9f>3</div><h4 data-v-6347ce9f>生成图像</h4></div><div class="step-icon" data-v-6347ce9f><svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-6347ce9f><rect x="3" y="3" width="18" height="18" rx="2" fill="#e6e9ff" stroke="#4E54C8" stroke-width="1.5" data-v-6347ce9f></rect><circle cx="16" cy="8" r="2" fill="#8F94FB" data-v-6347ce9f></circle><path d="M3 14L7 10L11 14L16 9L21 14V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V14Z" fill="#c6c9f8" stroke="#4E54C8" stroke-width="1.5" data-v-6347ce9f></path></svg></div><p class="step-description" data-v-6347ce9f>点击&quot;生成图片&quot;按钮，AI将为您创建完全个性化的艺术作品</p></div></div>',2)),o("div",ht,[t(l,{type:"primary",class:"action-button",onClick:ye},{default:n(()=>[t(h,null,{default:n(()=>[t(w(Ge))]),_:1}),e[17]||(e[17]=o("span",null,"使用随机模板",-1))]),_:1}),t(l,{class:"action-button secondary-button",onClick:ke},{default:n(()=>[t(h,null,{default:n(()=>[t(w(O))]),_:1}),e[18]||(e[18]=o("span",null,"开始创作",-1))]),_:1})])])])):B("",!0),_.value?(p(),f("div",wt,[o("div",yt,[t(h,{class:"loading-icon"},{default:n(()=>[t(w(We))]),_:1}),o("div",kt,[o("div",{class:"progress-bar",style:Y({width:`${C.value}%`})},null,4)]),o("p",null,"AI 正在绘制你的图片，预计还需 "+L(W.value)+"秒",1),o("p",bt,L(C.value)+"%",1)])])):B("",!0),z.value.length>0?(p(),f("div",xt,[o("div",Ct,[e[20]||(e[20]=o("h2",null,"生成结果",-1)),o("div",Lt,[U.value?(p(),f("p",Mt,"生成时间: "+L(U.value)+"秒",1)):B("",!0),d.value!==null?(p(),f("p",Vt,"种子: "+L(d.value),1)):B("",!0)])]),o("div",It,[(p(!0),f(q,null,N(z.value,(i,I)=>(p(),f("div",{key:I,class:"image-item"},[o("div",{class:"image-wrapper",style:Y(we())},[o("img",{src:i.url,alt:"生成的图片",loading:"lazy",onClick:R=>X(i.url)},null,8,Et),o("div",zt,[o("div",Bt,[o("div",St,[t(g,{content:"预览大图",placement:"top"},{default:n(()=>[t(l,{size:"small",type:"primary",plain:"",onClick:R=>H("preview",i.url,I)},{default:n(()=>[t(h,null,{default:n(()=>[t(w(Ze))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),t(g,{content:"下载图片",placement:"top"},{default:n(()=>[t(l,{size:"small",type:"primary",plain:"",onClick:R=>H("download",i.url,I)},{default:n(()=>[t(h,null,{default:n(()=>[t(w(te))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),t(g,{content:"复制图片种子值",placement:"top"},{default:n(()=>[t(l,{size:"small",type:"primary",plain:"",onClick:R=>H("use-seed",i.url,I)},{default:n(()=>[t(h,null,{default:n(()=>[t(w(ae))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),t(g,{content:"使用该种子重新生成",placement:"top"},{default:n(()=>[t(l,{size:"small",type:"primary",plain:"",onClick:R=>H("regenerate",i.url,I)},{default:n(()=>[t(h,null,{default:n(()=>[t(w(O))]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)])])])],4)]))),128))])])):B("",!0)])]),t(Ce,{modelValue:T.value,"onUpdate:modelValue":e[9]||(e[9]=i=>T.value=i),title:K.value,class:"preview-dialog","append-to-body":!0},{footer:n(()=>[o("div",Ut,[t(l,{onClick:e[8]||(e[8]=i=>T.value=!1)},{default:n(()=>e[21]||(e[21]=[E("关闭")])),_:1}),t(l,{type:"primary",onClick:_e},{default:n(()=>[t(h,null,{default:n(()=>[t(w(te))]),_:1}),e[22]||(e[22]=E(" 下载图片 "))]),_:1}),d.value!==null?(p(),ee(l,{key:0,type:"primary",onClick:ge},{default:n(()=>[t(h,null,{default:n(()=>[t(w(ae))]),_:1}),E(" 复制种子 ("+L(d.value)+") ",1)]),_:1})):B("",!0),d.value!==null?(p(),ee(l,{key:1,type:"primary",onClick:he},{default:n(()=>[t(h,null,{default:n(()=>[t(w(O))]),_:1}),e[23]||(e[23]=E(" 使用此种子重新生成 "))]),_:1})):B("",!0)])]),default:n(()=>[o("div",At,[o("img",{src:$.value,class:"preview-image",alt:"预览图片"},null,8,Tt)])]),_:1},8,["modelValue","title"])])}}}),Pt=oe($t,[["__scopeId","data-v-6347ce9f"]]),Ft={class:"ai-image-container"},Ht=le({__name:"AIImageView",setup(y){return(m,x)=>(p(),f("div",Ft,[t(Pt)]))}}),Gt=oe(Ht,[["__scopeId","data-v-8cd40b5c"]]);export{Gt as default};
