/* empty css                        */import{j as Je,r as m,f as ae,B as qe,H as x,J as o,Y as e,R as a,V as i,u as _,W as u,al as Ge,T as ve,X as O,ae as K,a2 as fe,Q as B,M as He,ac as We,U as Xe,I as f}from"./vue-BJlp2Mwx.js";import{r as Ye,t as Ze,f as et,d as tt,e as at,p as le,u as lt,v as st,w as J,x as ot,y as _e,A as nt,B as it,C as dt,D as rt,F as ut,G as ct,h as mt,H as pt,I as vt,J as ge,K as ft,L as _t,M as gt,c as yt,N as wt,O as bt,P as kt,k as ht,Q as xt,R as Ct,i as Vt,b as At,E as C}from"./index-BErggjPR.js";import{_ as It}from"./vue-helper-DlAUqK2U.js";import"./pinia-BGq-fEY2.js";import"./vue-router-BWhT9PyQ.js";const Dt={class:"mcp-agent-platform"},St={class:"platform-header"},Pt={class:"header-content"},Et={class:"header-actions"},zt={class:"platform-content"},Tt={class:"stat-content"},Ut={class:"stat-number"},Bt={class:"stat-content"},Rt={class:"stat-number"},Mt={class:"stat-content"},Lt={class:"stat-number"},Qt={class:"stat-content"},$t={class:"stat-number"},Nt={class:"card-header"},jt={class:"header-left"},Ft={class:"header-right"},Ot={class:"agent-grid"},Kt=["onClick"],Jt={class:"agent-avatar"},qt={class:"agent-info"},Gt={class:"agent-name"},Ht={class:"agent-description"},Wt={class:"agent-meta"},Xt={class:"agent-tools"},Yt={class:"agent-stats"},Zt={class:"agent-actions"},ea={key:0,class:"empty-state"},ta={class:"card-header"},aa={class:"quick-actions"},la={class:"card-header"},sa=["src"],oa={class:"tools-config"},na={class:"dialog-footer"},ia={class:"chat-container"},da={class:"message-avatar"},ra={class:"message-content"},ua={class:"message-text"},ca={key:0,class:"streaming-indicator"},ma={class:"message-time"},pa={class:"chat-input"},va={class:"chat-actions"},fa={class:"tool-market"},_a={class:"tool-header"},ga={class:"tool-name"},ya={class:"tool-description"},wa={class:"tool-footer"},ba={class:"template-library"},ka={class:"template-header"},ha={class:"template-info"},xa={class:"template-name"},Ca={class:"template-description"},Va={class:"template-footer"},Aa={class:"template-stats"},Ia={class:"dialog-footer"},Da=Je({__name:"McpAgentView",setup(Sa){const A=m(!1),L=m(!1),q=m(""),se=m(),oe=m(!1),d=m({id:"",name:"",description:"",type:"",avatar:"",tools:[],config:{model:"deepseek-ai/DeepSeek-R1-Distill-Qwen-7B",temperature:.7,systemPrompt:""}}),ye={name:[{required:!0,message:"请输入智能体名称",trigger:"blur"},{min:2,max:20,message:"名称长度在 2 到 20 个字符",trigger:"blur"}],type:[{required:!0,message:"请选择智能体类型",trigger:"change"}],description:[{required:!0,message:"请输入智能体描述",trigger:"blur"},{min:10,max:200,message:"描述长度在 10 到 200 个字符",trigger:"blur"}]},Q=m(""),re=m([{label:"代码分析器",value:"code_analyzer"},{label:"Git助手",value:"git_helper"},{label:"文档生成器",value:"documentation"},{label:"Markdown生成器",value:"markdown_generator"},{label:"API文档生成器",value:"api_doc_generator"},{label:"数据处理器",value:"data_processor"},{label:"图表生成器",value:"chart_generator"},{label:"SQL助手",value:"sql_helper"},{label:"网络爬虫",value:"web_scraper"},{label:"邮件助手",value:"email_helper"}]),ne=m(!1),I=m(null),g=m([]),G=m(""),W=m(!1),X=m(),ue=()=>{const s=localStorage.getItem("mcp-api-config");if(s)try{return JSON.parse(s)}catch(t){console.error("加载API配置失败:",t)}return{baseURL:"https://api.siliconflow.cn/v1/chat/completions",apiKey:"sk-etybbrewlaafxjjqtlgfeqaaskzrmryfndjtjjecyixbsznw",model:"deepseek-ai/DeepSeek-R1-Distill-Qwen-7B"}},ie=m(!1),we=m([{id:1,name:"代码审查助手",description:"自动检查代码质量、安全漏洞和最佳实践",icon:"Document",category:"free"},{id:2,name:"API文档生成器",description:"根据代码自动生成API文档和接口说明",icon:"Document",category:"free"},{id:3,name:"数据可视化工具",description:"将数据转换为各种图表和可视化展示",icon:"Document",category:"paid"}]),Y=m(!1),$=m(!1),D=m({apiKey:"sk-etybbrewlaafxjjqtlgfeqaaskzrmryfndjtjjecyixbsznw",model:"deepseek-ai/DeepSeek-R1-Distill-Qwen-7B",baseURL:"https://api.siliconflow.cn/v1/chat/completions"}),be=m([{id:1,name:"全栈开发助手",type:"编程助手",description:"专业的全栈开发助手，支持前端、后端、数据库等全方位开发",avatar:"",rating:4.8,downloads:"1.2k",tools:["code_analyzer","git_helper","documentation"],config:{model:"gpt-4",temperature:.3,systemPrompt:"你是一个专业的全栈开发助手..."}},{id:2,name:"技术文档专家",type:"文档助手",description:"专注于技术文档编写、API文档生成和知识库管理",avatar:"",rating:4.6,downloads:"856",tools:["markdown_generator","api_doc_generator"],config:{model:"gpt-3.5-turbo",temperature:.5,systemPrompt:"你是一个技术文档专家..."}}]),p=m([{id:"1",name:"代码助手",description:"专业的编程助手，支持多种编程语言和框架",type:"编程助手",status:"active",avatar:"",tools:["code_analyzer","git_helper","documentation"],conversations:156,createdAt:"2024-01-15"},{id:"2",name:"文档写手",description:"智能文档生成和编辑助手，擅长技术文档和API文档",type:"文档助手",status:"inactive",avatar:"",tools:["markdown_generator","api_doc_generator"],conversations:89,createdAt:"2024-01-20"},{id:"3",name:"数据分析师",description:"专业的数据分析和可视化助手",type:"数据分析",status:"active",avatar:"",tools:["data_processor","chart_generator","sql_helper"],conversations:234,createdAt:"2024-01-10"}]),ke=m(null),he=ae(()=>p.value.filter(s=>s.status==="active").length),xe=ae(()=>p.value.reduce((s,t)=>s+(t.conversations||0),0)),Ce=ae(()=>{const s=p.value.flatMap(t=>t.tools||[]);return new Set(s).size}),ce=ae(()=>q.value?p.value.filter(s=>s.name.toLowerCase().includes(q.value.toLowerCase())||s.description.toLowerCase().includes(q.value.toLowerCase())):p.value),Ve=s=>{ke.value=s,console.log("选择智能体:",s.name)},Ae=s=>new Date(s).toLocaleDateString("zh-CN"),Ie=s=>{I.value=s,g.value=[{id:1,role:"assistant",content:`你好！我是 ${s.name}，${s.description}。有什么可以帮助你的吗？`,timestamp:new Date}],ne.value=!0},De=s=>{const{action:t,agent:n}=s;switch(t){case"edit":Re(n);break;case"clone":C.info(`克隆智能体: ${n.name}`);break;case"export":C.info(`导出智能体: ${n.name}`);break;case"delete":At.confirm(`确定要删除智能体 "${n.name}" 吗？`,"确认删除",{type:"warning"}).then(()=>{const r=p.value.findIndex(V=>V.id===n.id);r>-1&&(p.value.splice(r,1),C.success("智能体已删除"))}).catch(()=>{});break}},Se=s=>{const t=re.value.find(n=>n.value===s);return t?t.label:s},Pe=()=>{Q.value&&!d.value.tools.includes(Q.value)&&(d.value.tools.push(Q.value),Q.value="")},Ee=s=>{const t=d.value.tools.indexOf(s);t>-1&&d.value.tools.splice(t,1)},ze=(s,t)=>{d.value.avatar=URL.createObjectURL(t.raw)},Te=s=>{const t=s.type==="image/jpeg"||s.type==="image/png",n=s.size/1024/1024<2;return t||C.error("头像只能是 JPG/PNG 格式!"),n||C.error("头像大小不能超过 2MB!"),t&&n},me=()=>{d.value={id:"",name:"",description:"",type:"",avatar:"",tools:[],config:{model:"deepseek-ai/DeepSeek-R1-Distill-Qwen-7B",temperature:.7,systemPrompt:""}},L.value=!1},Ue=()=>{A.value=!1,me()},Be=async()=>{if(se.value)try{if(await se.value.validate(),oe.value=!0,await new Promise(s=>setTimeout(s,1e3)),L.value){const s=p.value.findIndex(t=>t.id===d.value.id);s>-1&&(p.value[s]={...d.value,conversations:p.value[s].conversations,createdAt:p.value[s].createdAt,status:p.value[s].status},C.success("智能体修改成功"))}else{const s={...d.value,id:Date.now().toString(),conversations:0,createdAt:new Date().toISOString().split("T")[0],status:"active"};p.value.unshift(s),C.success("智能体创建成功")}localStorage.setItem("mcp-agents",JSON.stringify(p.value)),A.value=!1,me()}catch(s){console.error("表单验证失败:",s)}finally{oe.value=!1}},Re=s=>{var t,n,r;d.value={id:s.id,name:s.name,description:s.description,type:s.type,avatar:s.avatar,tools:[...s.tools],config:{model:((t=s.config)==null?void 0:t.model)||"deepseek-ai/DeepSeek-R1-Distill-Qwen-7B",temperature:((n=s.config)==null?void 0:n.temperature)||.7,systemPrompt:((r=s.config)==null?void 0:r.systemPrompt)||""}},L.value=!0,A.value=!0},Me=s=>new Date(s).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),pe=async()=>{var n,r,V,k,y,Z,E,S,N;if(!G.value.trim())return;const s={id:Date.now(),role:"user",content:G.value,timestamp:new Date};g.value.push(s),G.value="",W.value=!0;const t={id:Date.now()+1,role:"assistant",content:"",timestamp:new Date,streaming:!0};g.value.push(t);try{const w=g.value.filter(c=>!c.streaming).map(c=>({role:c.role,content:c.content})),T=((r=(n=I.value)==null?void 0:n.config)==null?void 0:r.systemPrompt)||`你是${(V=I.value)==null?void 0:V.name}，${(k=I.value)==null?void 0:k.description}。请以专业、友好的方式回答用户的问题。`;w.unshift({role:"system",content:T});const P=ue();if(!P.apiKey){C.warning("请先配置API密钥"),$.value=!0;const c=g.value.findIndex(R=>R.id===t.id);c!==-1&&g.value.splice(c,1),W.value=!1;return}console.log("发送API请求:",{url:P.baseURL,model:P.model,messages:w,stream:!0});const z=await fetch(P.baseURL,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${P.apiKey}`},body:JSON.stringify({model:P.model,messages:w,stream:!0,temperature:((Z=(y=I.value)==null?void 0:y.config)==null?void 0:Z.temperature)||.7,max_tokens:2e3})});if(!z.ok){const c=await z.text();throw console.error("API请求失败:",z.status,z.statusText,c),new Error(`API请求失败: ${z.status} ${z.statusText}`)}console.log("API响应成功，开始处理流式数据");const j=(E=z.body)==null?void 0:E.getReader(),de=new TextDecoder;if(!j)throw new Error("无法读取响应流");let b="";for(;;){const{done:c,value:R}=await j.read();if(c)break;b+=de.decode(R,{stream:!0});const ee=b.split(`
`);b=ee.pop()||"";for(const U of ee)if(U.trim()!==""){if(U.trim()==="data: [DONE]"){console.log("流式输出完成");continue}if(U.startsWith("data: "))try{const F=U.slice(6);console.log("收到流式数据:",F);const H=JSON.parse(F);console.log("解析后的数据:",H);const h=(N=(S=H.choices)==null?void 0:S[0])==null?void 0:N.delta;if(console.log("Delta内容:",h),h!=null&&h.content){console.log("收到内容片段:",h.content);const M=g.value.findIndex(l=>l.id===t.id);console.log("找到消息索引:",M),M!==-1&&(g.value[M].content+=h.content,console.log("更新后的消息内容:",g.value[M].content),setTimeout(()=>{X.value&&(X.value.scrollTop=X.value.scrollHeight)},10))}}catch(F){console.warn("解析SSE数据失败:",F,"原始数据:",U)}}}const v=g.value.findIndex(c=>c.id===t.id);if(v!==-1&&(g.value[v].streaming=!1),I.value){const c=p.value.findIndex(R=>R.id===I.value.id);c!==-1&&(p.value[c].conversations=(p.value[c].conversations||0)+1,localStorage.setItem("mcp-agents",JSON.stringify(p.value)))}}catch(w){console.error("发送消息失败:",w),C.error(`发送消息失败: ${w.message}`);const T=g.value.findIndex(P=>P.id===t.id);T!==-1&&g.value.splice(T,1)}finally{W.value=!1;const w=g.value.findIndex(T=>T.id===t.id);w!==-1&&g.value[w].streaming&&(g.value[w].streaming=!1)}},Le=()=>{var s,t;g.value=[{id:1,role:"assistant",content:`你好！我是 ${(s=I.value)==null?void 0:s.name}，${(t=I.value)==null?void 0:t.description}。有什么可以帮助你的吗？`,timestamp:new Date}]},Qe=()=>{ie.value=!0},$e=()=>{Y.value=!0},Ne=s=>{d.value={id:"",name:s.name,description:s.description,type:s.type,avatar:s.avatar,tools:[...s.tools],config:{...s.config}},L.value=!1,Y.value=!1,A.value=!0,C.success("模板已应用，请完善信息后创建")},je=()=>{const s=localStorage.getItem("mcp-agents");if(s)try{const t=JSON.parse(s);p.value=t}catch(t){console.error("加载本地数据失败:",t)}},Fe=()=>{if(!D.value.apiKey.trim()){C.warning("请输入API密钥");return}localStorage.setItem("mcp-api-config",JSON.stringify(D.value)),C.success("API配置保存成功"),$.value=!1},Oe=()=>{const s=ue();D.value={...s}};return qe(()=>{console.log("MCP智能体管理中心已加载"),je(),Oe()}),(s,t)=>{var M;const n=at,r=tt,V=lt,k=Ye,y=st,Z=Ge("VideoPlay"),E=Ze,S=mt,N=nt,w=ut,T=rt,P=it,z=ct,j=_t,de=ft,b=wt,v=kt,c=bt,R=ht,ee=Vt,U=Ct,F=xt,H=yt,h=et;return f(),x("div",Dt,[o("div",St,[e(k,{shadow:"never",class:"header-card"},{default:a(()=>[o("div",Pt,[t[25]||(t[25]=o("div",{class:"title-section"},[o("h1",{class:"platform-title"},"MCP智能体管理中心"),o("p",{class:"platform-subtitle"},"Model Context Protocol Agent Management Center")],-1)),o("div",Et,[e(r,{type:"primary",onClick:t[0]||(t[0]=l=>A.value=!0)},{default:a(()=>[e(n,null,{default:a(()=>[e(_(le))]),_:1}),t[23]||(t[23]=i(" 创建智能体 "))]),_:1}),e(V,{type:"success",size:"large"},{default:a(()=>t[24]||(t[24]=[i("Beta v1.0")])),_:1})])])]),_:1})]),o("div",zt,[e(E,{gutter:24,class:"overview-cards"},{default:a(()=>[e(y,{xs:12,sm:6},{default:a(()=>[e(k,{class:"stat-card"},{default:a(()=>[o("div",Tt,[o("div",Ut,u(p.value.length),1),t[26]||(t[26]=o("div",{class:"stat-label"},"我的智能体",-1))]),e(n,{class:"stat-icon"},{default:a(()=>[e(_(J))]),_:1})]),_:1})]),_:1}),e(y,{xs:12,sm:6},{default:a(()=>[e(k,{class:"stat-card"},{default:a(()=>[o("div",Bt,[o("div",Rt,u(he.value),1),t[27]||(t[27]=o("div",{class:"stat-label"},"运行中",-1))]),e(n,{class:"stat-icon active"},{default:a(()=>[e(Z)]),_:1})]),_:1})]),_:1}),e(y,{xs:12,sm:6},{default:a(()=>[e(k,{class:"stat-card"},{default:a(()=>[o("div",Mt,[o("div",Lt,u(xe.value),1),t[28]||(t[28]=o("div",{class:"stat-label"},"总对话数",-1))]),e(n,{class:"stat-icon"},{default:a(()=>[e(_(ot))]),_:1})]),_:1})]),_:1}),e(y,{xs:12,sm:6},{default:a(()=>[e(k,{class:"stat-card"},{default:a(()=>[o("div",Qt,[o("div",$t,u(Ce.value),1),t[29]||(t[29]=o("div",{class:"stat-label"},"可用工具",-1))]),e(n,{class:"stat-icon"},{default:a(()=>[e(_(_e))]),_:1})]),_:1})]),_:1})]),_:1}),e(E,{gutter:24},{default:a(()=>[e(y,{xs:24,lg:16},{default:a(()=>[e(k,{shadow:"hover",class:"agent-list-card"},{header:a(()=>[o("div",Nt,[o("div",jt,[e(n,null,{default:a(()=>[e(_(J))]),_:1}),t[30]||(t[30]=o("span",null,"我的智能体",-1))]),o("div",Ft,[e(S,{modelValue:q.value,"onUpdate:modelValue":t[1]||(t[1]=l=>q.value=l),placeholder:"搜索智能体...",style:{width:"200px","margin-right":"12px"},clearable:""},{prefix:a(()=>[e(n,null,{default:a(()=>[e(_(pt))]),_:1})]),_:1},8,["modelValue"]),e(r,{type:"primary",onClick:t[2]||(t[2]=l=>A.value=!0)},{default:a(()=>[e(n,null,{default:a(()=>[e(_(le))]),_:1}),t[31]||(t[31]=i(" 创建智能体 "))]),_:1})])])]),default:a(()=>[o("div",Ot,[(f(!0),x(O,null,K(ce.value,l=>{var te;return f(),x("div",{key:l.id,class:"agent-card",onClick:Ke=>Ve(l)},[o("div",Jt,[e(N,{size:60,src:l.avatar},{default:a(()=>[e(n,null,{default:a(()=>[e(_(J))]),_:1})]),_:2},1032,["src"]),e(V,{type:l.status==="active"?"success":"info",size:"small",class:"agent-status"},{default:a(()=>[i(u(l.status==="active"?"运行中":"已停止"),1)]),_:2},1032,["type"])]),o("div",qt,[o("h3",Gt,u(l.name),1),o("p",Ht,u(l.description),1),o("div",Wt,[e(V,{size:"small",type:"primary"},{default:a(()=>[i(u(l.type),1)]),_:2},1024),o("span",Xt,u(((te=l.tools)==null?void 0:te.length)||0)+" 个工具",1)]),o("div",Yt,[o("span",null,"对话: "+u(l.conversations||0),1),o("span",null,"创建: "+u(Ae(l.createdAt)),1)])]),o("div",Zt,[e(r,{size:"small",type:"primary",onClick:fe(Ke=>Ie(l),["stop"])},{default:a(()=>t[32]||(t[32]=[i(" 对话 ")])),_:2},1032,["onClick"]),e(P,{onCommand:De},{dropdown:a(()=>[e(T,null,{default:a(()=>[e(w,{command:{action:"edit",agent:l}},{default:a(()=>t[33]||(t[33]=[i("编辑")])),_:2},1032,["command"]),e(w,{command:{action:"clone",agent:l}},{default:a(()=>t[34]||(t[34]=[i("克隆")])),_:2},1032,["command"]),e(w,{command:{action:"export",agent:l}},{default:a(()=>t[35]||(t[35]=[i("导出")])),_:2},1032,["command"]),e(w,{command:{action:"delete",agent:l},divided:""},{default:a(()=>t[36]||(t[36]=[i("删除")])),_:2},1032,["command"])]),_:2},1024)]),default:a(()=>[e(r,{size:"small",link:""},{default:a(()=>[e(n,null,{default:a(()=>[e(_(dt))]),_:1})]),_:1})]),_:2},1024)])],8,Kt)}),128)),ce.value.length===0?(f(),x("div",ea,[e(z,{description:"暂无智能体"},{default:a(()=>[e(r,{type:"primary",onClick:t[3]||(t[3]=l=>A.value=!0)},{default:a(()=>t[37]||(t[37]=[i(" 创建第一个智能体 ")])),_:1})]),_:1})])):ve("",!0)])]),_:1})]),_:1}),e(y,{xs:24,lg:8},{default:a(()=>[e(k,{shadow:"hover",class:"agent-detail-card"},{header:a(()=>[o("div",ta,[e(n,null,{default:a(()=>[e(_(ge))]),_:1}),t[38]||(t[38]=o("span",null,"快速操作",-1))])]),default:a(()=>[o("div",aa,[e(r,{type:"primary",size:"large",onClick:t[4]||(t[4]=l=>A.value=!0),class:"action-btn"},{default:a(()=>[e(n,null,{default:a(()=>[e(_(le))]),_:1}),t[39]||(t[39]=i(" 创建新智能体 "))]),_:1}),e(r,{type:"success",size:"large",class:"action-btn",onClick:Qe},{default:a(()=>[e(n,null,{default:a(()=>[e(_(_e))]),_:1}),t[40]||(t[40]=i(" 工具市场 "))]),_:1}),e(r,{type:"info",size:"large",class:"action-btn",onClick:$e},{default:a(()=>[e(n,null,{default:a(()=>[e(_(vt))]),_:1}),t[41]||(t[41]=i(" 模板库 "))]),_:1}),e(r,{type:"warning",size:"large",class:"action-btn",onClick:t[5]||(t[5]=l=>$.value=!0)},{default:a(()=>[e(n,null,{default:a(()=>[e(_(ge))]),_:1}),t[42]||(t[42]=i(" API配置 "))]),_:1})])]),_:1}),e(k,{shadow:"hover",class:"activity-card"},{header:a(()=>[o("div",la,[e(n,null,{default:a(()=>[e(_(gt))]),_:1}),t[43]||(t[43]=o("span",null,"最近活动",-1))])]),default:a(()=>[e(de,null,{default:a(()=>[e(j,{timestamp:"2024-01-18 15:30",type:"primary"},{default:a(()=>t[44]||(t[44]=[i(" 代码助手完成了一次代码审查 ")])),_:1}),e(j,{timestamp:"2024-01-18 14:20",type:"success"},{default:a(()=>t[45]||(t[45]=[i(" 数据分析师生成了销售报表 ")])),_:1}),e(j,{timestamp:"2024-01-18 13:15",type:"info"},{default:a(()=>t[46]||(t[46]=[i(" 文档写手更新了API文档 ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),e(h,{modelValue:A.value,"onUpdate:modelValue":t[13]||(t[13]=l=>A.value=l),title:L.value?"编辑智能体":"创建智能体",width:"600px","close-on-click-modal":!1,class:"agent-dialog"},{footer:a(()=>[o("div",na,[e(r,{onClick:Ue},{default:a(()=>t[47]||(t[47]=[i("取消")])),_:1}),e(r,{type:"primary",onClick:Be,loading:oe.value},{default:a(()=>[i(u(L.value?"保存修改":"创建智能体"),1)]),_:1},8,["loading"])])]),default:a(()=>[e(H,{ref_key:"agentFormRef",ref:se,model:d.value,rules:ye,"label-position":"top",class:"agent-form"},{default:a(()=>[e(E,{gutter:20},{default:a(()=>[e(y,{span:12},{default:a(()=>[e(b,{label:"智能体名称",prop:"name"},{default:a(()=>[e(S,{modelValue:d.value.name,"onUpdate:modelValue":t[6]||(t[6]=l=>d.value.name=l),placeholder:"请输入智能体名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(y,{span:12},{default:a(()=>[e(b,{label:"智能体类型",prop:"type"},{default:a(()=>[e(c,{modelValue:d.value.type,"onUpdate:modelValue":t[7]||(t[7]=l=>d.value.type=l),placeholder:"选择智能体类型",style:{width:"100%"}},{default:a(()=>[e(v,{label:"编程助手",value:"编程助手"}),e(v,{label:"文档助手",value:"文档助手"}),e(v,{label:"数据分析",value:"数据分析"}),e(v,{label:"客服助手",value:"客服助手"}),e(v,{label:"创意助手",value:"创意助手"}),e(v,{label:"自定义",value:"自定义"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(b,{label:"智能体描述",prop:"description"},{default:a(()=>[e(S,{modelValue:d.value.description,"onUpdate:modelValue":t[8]||(t[8]=l=>d.value.description=l),type:"textarea",rows:3,placeholder:"请描述智能体的功能和用途",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1}),e(b,{label:"智能体头像"},{default:a(()=>[e(R,{class:"avatar-uploader","show-file-list":!1,"on-success":ze,"before-upload":Te,action:"#","auto-upload":!1},{default:a(()=>[d.value.avatar?(f(),x("img",{key:0,src:d.value.avatar,class:"avatar"},null,8,sa)):(f(),B(n,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[e(_(le))]),_:1}))]),_:1})]),_:1}),e(b,{label:"工具配置"},{default:a(()=>[o("div",oa,[(f(!0),x(O,null,K(d.value.tools,l=>(f(),B(V,{key:l,closable:"",onClose:te=>Ee(l),class:"tool-tag"},{default:a(()=>[i(u(Se(l)),1)]),_:2},1032,["onClose"]))),128)),e(c,{modelValue:Q.value,"onUpdate:modelValue":t[9]||(t[9]=l=>Q.value=l),placeholder:"添加工具",onChange:Pe,style:{width:"200px","margin-top":"8px"}},{default:a(()=>[(f(!0),x(O,null,K(re.value,l=>(f(),B(v,{key:l.value,label:l.label,value:l.value,disabled:d.value.tools.includes(l.value)},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])])]),_:1}),e(b,{label:"高级配置"},{default:a(()=>[e(F,null,{default:a(()=>[e(U,{title:"模型配置",name:"model"},{default:a(()=>[e(E,{gutter:20},{default:a(()=>[e(y,{span:12},{default:a(()=>[e(b,{label:"默认模型"},{default:a(()=>[e(c,{modelValue:d.value.config.model,"onUpdate:modelValue":t[10]||(t[10]=l=>d.value.config.model=l),placeholder:"选择模型"},{default:a(()=>[e(v,{label:"DeepSeek-R1-Distill-Qwen-7B",value:"deepseek-ai/DeepSeek-R1-Distill-Qwen-7B"}),e(v,{label:"DeepSeek Chat",value:"deepseek-chat"}),e(v,{label:"DeepSeek Coder",value:"deepseek-coder"}),e(v,{label:"Qwen2.5-7B",value:"Qwen/Qwen2.5-7B-Instruct"}),e(v,{label:"Qwen2.5-14B",value:"Qwen/Qwen2.5-14B-Instruct"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(y,{span:12},{default:a(()=>[e(b,{label:"温度"},{default:a(()=>[e(ee,{modelValue:d.value.config.temperature,"onUpdate:modelValue":t[11]||(t[11]=l=>d.value.config.temperature=l),min:0,max:2,step:.1,"show-input":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(U,{title:"系统提示词",name:"prompt"},{default:a(()=>[e(S,{modelValue:d.value.config.systemPrompt,"onUpdate:modelValue":t[12]||(t[12]=l=>d.value.config.systemPrompt=l),type:"textarea",rows:4,placeholder:"输入系统提示词，定义智能体的行为和角色"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(h,{modelValue:ne.value,"onUpdate:modelValue":t[15]||(t[15]=l=>ne.value=l),title:`与 ${(M=I.value)==null?void 0:M.name} 对话`,width:"800px",class:"chat-dialog"},{default:a(()=>[o("div",ia,[o("div",{class:"chat-messages",ref_key:"chatMessagesRef",ref:X},[(f(!0),x(O,null,K(g.value,l=>(f(),x("div",{key:l.id,class:He(["message",l.role])},[o("div",da,[e(N,{size:32},{default:a(()=>[l.role==="user"?(f(),B(n,{key:0},{default:a(()=>[e(_(J))]),_:1})):(f(),B(n,{key:1},{default:a(()=>[e(_(J))]),_:1}))]),_:2},1024)]),o("div",ra,[o("div",ua,[i(u(l.content)+" ",1),l.streaming?(f(),x("span",ca,"▋")):ve("",!0)]),o("div",ma,u(Me(l.timestamp)),1)])],2))),128))],512),o("div",pa,[e(S,{modelValue:G.value,"onUpdate:modelValue":t[14]||(t[14]=l=>G.value=l),type:"textarea",rows:3,placeholder:"输入消息...",onKeydown:We(fe(pe,["ctrl"]),["enter"])},null,8,["modelValue","onKeydown"]),o("div",va,[e(r,{onClick:Le,size:"small"},{default:a(()=>t[48]||(t[48]=[i("清空")])),_:1}),e(r,{type:"primary",onClick:pe,loading:W.value},{default:a(()=>t[49]||(t[49]=[i(" 发送 (Ctrl+Enter) ")])),_:1},8,["loading"])])])])]),_:1},8,["modelValue","title"]),e(h,{modelValue:ie.value,"onUpdate:modelValue":t[16]||(t[16]=l=>ie.value=l),title:"工具市场",width:"900px",class:"tool-market-dialog"},{default:a(()=>[o("div",fa,[e(E,{gutter:20},{default:a(()=>[(f(!0),x(O,null,K(we.value,l=>(f(),B(y,{key:l.id,xs:24,sm:12,md:8},{default:a(()=>[e(k,{class:"tool-card",shadow:"hover"},{default:a(()=>[o("div",_a,[e(n,{class:"tool-icon"},{default:a(()=>[(f(),B(Xe(l.icon)))]),_:2},1024),o("h3",ga,u(l.name),1)]),o("p",ya,u(l.description),1),o("div",wa,[e(V,{type:l.category==="free"?"success":"warning",size:"small"},{default:a(()=>[i(u(l.category==="free"?"免费":"付费"),1)]),_:2},1032,["type"]),e(r,{size:"small",type:"primary"},{default:a(()=>t[50]||(t[50]=[i("安装")])),_:1})])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1},8,["modelValue"]),e(h,{modelValue:Y.value,"onUpdate:modelValue":t[17]||(t[17]=l=>Y.value=l),title:"智能体模板库",width:"900px",class:"template-library-dialog"},{default:a(()=>[o("div",ba,[e(E,{gutter:20},{default:a(()=>[(f(!0),x(O,null,K(be.value,l=>(f(),B(y,{key:l.id,xs:24,sm:12,md:8},{default:a(()=>[e(k,{class:"template-card",shadow:"hover"},{default:a(()=>[o("div",ka,[e(N,{size:50,src:l.avatar},{default:a(()=>[e(n,null,{default:a(()=>[e(_(J))]),_:1})]),_:2},1032,["src"]),o("div",ha,[o("h3",xa,u(l.name),1),e(V,{size:"small"},{default:a(()=>[i(u(l.type),1)]),_:2},1024)])]),o("p",Ca,u(l.description),1),o("div",Va,[o("div",Aa,[o("span",null,"⭐ "+u(l.rating),1),o("span",null,"📥 "+u(l.downloads),1)]),e(r,{size:"small",type:"primary",onClick:te=>Ne(l)},{default:a(()=>t[51]||(t[51]=[i(" 使用模板 ")])),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1},8,["modelValue"]),e(h,{modelValue:$.value,"onUpdate:modelValue":t[22]||(t[22]=l=>$.value=l),title:"API配置",width:"500px",class:"api-config-dialog"},{footer:a(()=>[o("div",Ia,[e(r,{onClick:t[21]||(t[21]=l=>$.value=!1)},{default:a(()=>t[53]||(t[53]=[i("取消")])),_:1}),e(r,{type:"primary",onClick:Fe},{default:a(()=>t[54]||(t[54]=[i("保存配置")])),_:1})])]),default:a(()=>[e(H,{model:D.value,"label-position":"top"},{default:a(()=>[e(b,{label:"API密钥"},{default:a(()=>[e(S,{modelValue:D.value.apiKey,"onUpdate:modelValue":t[18]||(t[18]=l=>D.value.apiKey=l),type:"password",placeholder:"请输入SiliconFlow API密钥","show-password":""},null,8,["modelValue"]),t[52]||(t[52]=o("div",{class:"form-tip"},[i(" 获取API密钥："),o("a",{href:"https://cloud.siliconflow.cn",target:"_blank"},"SiliconFlow控制台")],-1))]),_:1}),e(b,{label:"模型"},{default:a(()=>[e(c,{modelValue:D.value.model,"onUpdate:modelValue":t[19]||(t[19]=l=>D.value.model=l),style:{width:"100%"}},{default:a(()=>[e(v,{label:"DeepSeek-R1-Distill-Qwen-7B",value:"deepseek-ai/DeepSeek-R1-Distill-Qwen-7B"}),e(v,{label:"DeepSeek Chat",value:"deepseek-chat"}),e(v,{label:"DeepSeek Coder",value:"deepseek-coder"}),e(v,{label:"Qwen2.5-7B",value:"Qwen/Qwen2.5-7B-Instruct"}),e(v,{label:"Qwen2.5-14B",value:"Qwen/Qwen2.5-14B-Instruct"})]),_:1},8,["modelValue"])]),_:1}),e(b,{label:"API端点"},{default:a(()=>[e(S,{modelValue:D.value.baseURL,"onUpdate:modelValue":t[20]||(t[20]=l=>D.value.baseURL=l),placeholder:"API端点URL"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),Ra=It(Da,[["__scopeId","data-v-12677f40"]]);export{Ra as default};
